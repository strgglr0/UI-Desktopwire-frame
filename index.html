<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SUMMIT PT CLINIC â€“ Admin System</title>
  <style>
    /* â”€â”€â”€ Reset & Base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg:        #f4f5f7;
      --surface:   #ffffff;
      --border:    #d1d5db;
      --border2:   #e5e7eb;
      --text:      #1f2937;
      --muted:     #6b7280;
      --accent:    #3b82f6;
      --accent-dk: #2563eb;
      --danger:    #ef4444;
      --warn:      #f59e0b;
      --ok:        #10b981;
      --sidebar-w: 240px;
      --radius:    8px;
      --shadow:    0 1px 4px rgba(0,0,0,.10);
    }
    html, body { height: 100%; font-family: 'Segoe UI', system-ui, sans-serif; font-size: 14px; color: var(--text); background: var(--bg); }
    a { color: inherit; text-decoration: none; }
    ul { list-style: none; }
    button { cursor: pointer; font: inherit; border: none; background: none; }

    /* â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .hidden   { display: none !important; }
    .flex     { display: flex; }
    .flex-col { flex-direction: column; }
    .gap-1    { gap: 6px; }
    .gap-2    { gap: 12px; }
    .gap-3    { gap: 18px; }
    .gap-4    { gap: 24px; }
    .items-center { align-items: center; }
    .justify-between { justify-content: space-between; }
    .wrap     { flex-wrap: wrap; }
    .text-sm  { font-size: 12px; }
    .text-lg  { font-size: 18px; font-weight: 600; }
    .text-xl  { font-size: 22px; font-weight: 700; }
    .text-muted { color: var(--muted); }
    .bold     { font-weight: 600; }
    .full-w   { width: 100%; }

    /* â”€â”€â”€ Buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .btn {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 8px 16px; border-radius: var(--radius);
      font-size: 13px; font-weight: 500; transition: opacity .15s;
    }
    .btn:hover { opacity: .88; }
    .btn-primary { background: var(--accent); color: #fff; }
    .btn-outline { border: 1.5px solid var(--border); color: var(--text); background: var(--surface); }
    .btn-danger  { background: var(--danger); color: #fff; }
    .btn-ok      { background: var(--ok); color: #fff; }
    .btn-ghost   { background: transparent; color: var(--text); border: 1px solid var(--border2); }
    .btn-ghost:hover { background: var(--bg); }
    .badge-purple { background: #ede9fe; color: #5b21b6; }
    .btn-sm      { padding: 5px 11px; font-size: 12px; }
    .btn-icon    { width: 34px; height: 34px; padding: 0; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; border: 1.5px solid var(--border); background: var(--surface); }

    /* â”€â”€â”€ Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .card {
      background: var(--surface); border: 1px solid var(--border2);
      border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow);
    }
    .card-title { font-size: 15px; font-weight: 600; margin-bottom: 14px; }

    /* â”€â”€â”€ Badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .badge {
      display: inline-block; padding: 2px 9px; border-radius: 20px;
      font-size: 11px; font-weight: 600;
    }
    .badge-blue   { background: #eff6ff; color: var(--accent-dk); }
    .badge-green  { background: #ecfdf5; color: #065f46; }
    .badge-red    { background: #fef2f2; color: #991b1b; }
    .badge-yellow { background: #fffbeb; color: #92400e; }
    .badge-gray   { background: #f3f4f6; color: #374151; }

    /* â”€â”€â”€ Input / Select â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .input, .select {
      padding: 8px 12px; border: 1.5px solid var(--border);
      border-radius: var(--radius); font: inherit; color: var(--text);
      background: var(--surface); width: 100%; outline: none;
      transition: border-color .15s;
    }
    .input:focus, .select:focus { border-color: var(--accent); }
    .field { display: flex; flex-direction: column; gap: 5px; }
    .field label { font-size: 12px; font-weight: 600; color: var(--muted); text-transform: uppercase; letter-spacing: .4px; }

    /* â”€â”€â”€ Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .tbl-wrap { overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 10px 14px; text-align: left; font-size: 13px; }
    thead tr { background: var(--bg); }
    th { font-weight: 600; color: var(--muted); text-transform: uppercase; font-size: 11px; letter-spacing: .5px; border-bottom: 2px solid var(--border2); }
    td { border-bottom: 1px solid var(--border2); }
    tbody tr:hover { background: #f9fafb; }

    /* â”€â”€â”€ Avatar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .avatar {
      width: 34px; height: 34px; border-radius: 50%;
      background: var(--accent); color: #fff;
      display: inline-flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700; flex-shrink: 0;
    }
    .avatar-lg { width: 52px; height: 52px; font-size: 18px; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LOGIN SCREEN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #screen-login {
      min-height: 100vh; display: flex; align-items: center; justify-content: center;
      background: linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%);
    }
    .login-box {
      background: var(--surface); border-radius: 12px; padding: 40px 36px;
      width: 100%; max-width: 400px; box-shadow: 0 8px 32px rgba(0,0,0,.2);
    }
    .login-logo {
      display: flex; align-items: center; gap: 10px; margin-bottom: 28px;
    }
    .login-logo .logo-icon {
      width: 44px; height: 44px; border-radius: 10px;
      background: var(--accent); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 22px;
    }
    .login-logo h1 { font-size: 18px; font-weight: 700; line-height: 1.2; }
    .login-logo span { font-size: 12px; color: var(--muted); }
    .login-box h2 { font-size: 20px; font-weight: 700; margin-bottom: 6px; }
    .login-box p.sub { color: var(--muted); margin-bottom: 24px; font-size: 13px; }
    .role-tabs { display: flex; gap: 6px; margin-bottom: 20px; flex-wrap: wrap; }
    .role-tab {
      padding: 5px 14px; border-radius: 20px; font-size: 12px; font-weight: 600;
      border: 1.5px solid var(--border); color: var(--muted); cursor: pointer; transition: all .15s;
    }
    .role-tab.active { background: var(--accent); border-color: var(--accent); color: #fff; }
    .login-form { display: flex; flex-direction: column; gap: 16px; }
    .login-footer { margin-top: 18px; text-align: center; font-size: 12px; color: var(--muted); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       APP SHELL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #app { display: flex; height: 100vh; overflow: hidden; }

    /* â”€â”€â”€ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    #sidebar {
      width: var(--sidebar-w); background: #1e293b; color: #e2e8f0;
      display: flex; flex-direction: column; flex-shrink: 0;
      transition: transform .25s, width .25s; overflow-y: auto; z-index: 100;
    }
    .sidebar-brand {
      padding: 20px 18px 16px; display: flex; align-items: center; gap: 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .brand-icon {
      width: 36px; height: 36px; border-radius: 8px;
      background: var(--accent); display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0;
    }
    .brand-text { font-size: 14px; font-weight: 700; line-height: 1.2; }
    .brand-text span { font-size: 11px; color: #94a3b8; font-weight: 400; display: block; }

    .sidebar-section { padding: 12px 10px 4px; font-size: 10px; font-weight: 700; color: #475569; text-transform: uppercase; letter-spacing: .8px; }

    .nav-item {
      display: flex; align-items: center; gap: 11px; padding: 9px 14px;
      border-radius: 7px; margin: 1px 8px; cursor: pointer; font-size: 13px;
      color: #94a3b8; transition: all .15s; font-weight: 500;
    }
    .nav-item:hover { background: rgba(255,255,255,.06); color: #e2e8f0; }
    .nav-item.active { background: var(--accent); color: #fff; }
    .nav-icon { font-size: 16px; width: 20px; text-align: center; flex-shrink: 0; }
    .nav-badge {
      margin-left: auto; background: var(--danger); color: #fff;
      font-size: 10px; font-weight: 700; padding: 1px 6px; border-radius: 10px;
    }

    .sidebar-user {
      margin-top: auto; padding: 14px 16px; border-top: 1px solid rgba(255,255,255,.08);
      display: flex; align-items: center; gap: 10px;
    }
    .sidebar-user .info { flex: 1; min-width: 0; }
    .sidebar-user .info strong { font-size: 13px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .sidebar-user .info span { font-size: 11px; color: #94a3b8; }

    /* â”€â”€â”€ Mobile overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #sidebar-overlay {
      display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 99;
    }

    /* â”€â”€â”€ Top bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    #topbar {
      height: 56px; background: var(--surface); border-bottom: 1px solid var(--border2);
      display: flex; align-items: center; padding: 0 20px; gap: 14px;
      box-shadow: 0 1px 3px rgba(0,0,0,.06); flex-shrink: 0;
    }
    .topbar-title { font-size: 16px; font-weight: 700; }
    .topbar-search {
      flex: 1; max-width: 320px; display: flex; align-items: center;
      background: var(--bg); border: 1.5px solid var(--border); border-radius: 20px;
      padding: 6px 14px; gap: 8px;
    }
    .topbar-search input { border: none; background: none; outline: none; font: inherit; width: 100%; font-size: 13px; }
    .topbar-right { display: flex; align-items: center; gap: 10px; margin-left: auto; }
    .notif-btn { position: relative; }
    .notif-dot {
      position: absolute; top: 4px; right: 4px; width: 8px; height: 8px;
      background: var(--danger); border-radius: 50%; border: 2px solid var(--surface);
    }
    #menu-toggle { display: none; }

    /* â”€â”€â”€ Main content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    #main-wrap { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
    #main { flex: 1; overflow-y: auto; padding: 24px; }

    /* â”€â”€â”€ Screens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  */
    .screen { display: none; }
    .screen.active { display: block; }
    .page-header { margin-bottom: 22px; }
    .page-header h2 { font-size: 20px; font-weight: 700; }
    .page-header p { color: var(--muted); font-size: 13px; margin-top: 3px; }

    /* â”€â”€â”€ Stats grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 16px; margin-bottom: 24px;
    }
    .stat-card {
      background: var(--surface); border: 1px solid var(--border2);
      border-radius: var(--radius); padding: 18px 20px; box-shadow: var(--shadow);
      position: relative; overflow: hidden;
    }
    .stat-card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
    }
    .stat-card.blue::before  { background: var(--accent); }
    .stat-card.green::before { background: var(--ok); }
    .stat-card.warn::before  { background: var(--warn); }
    .stat-card.red::before   { background: var(--danger); }
    .stat-icon { font-size: 26px; margin-bottom: 8px; }
    .stat-val  { font-size: 28px; font-weight: 800; line-height: 1; }
    .stat-lbl  { font-size: 12px; color: var(--muted); margin-top: 4px; font-weight: 500; }
    .stat-delta{ font-size: 11px; font-weight: 600; margin-top: 6px; }
    .delta-up  { color: var(--ok); }
    .delta-dn  { color: var(--danger); }

    /* â”€â”€â”€ Grid helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
    .grid-auto { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }

    /* â”€â”€â”€ Activity feed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .activity-item {
      display: flex; gap: 12px; align-items: flex-start;
      padding: 10px 0; border-bottom: 1px solid var(--border2);
    }
    .activity-item:last-child { border-bottom: none; }
    .act-dot {
      width: 10px; height: 10px; border-radius: 50%; margin-top: 4px; flex-shrink: 0;
    }
    .act-text { font-size: 13px; line-height: 1.45; }
    .act-time { font-size: 11px; color: var(--muted); margin-top: 2px; }

    /* â”€â”€â”€ Progress bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .progress-bar { height: 7px; background: var(--bg); border-radius: 4px; overflow: hidden; }
    .progress-fill { height: 100%; border-radius: 4px; background: var(--accent); }

    /* â”€â”€â”€ Appointment slot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .appt-slot {
      display: flex; align-items: center; gap: 12px; padding: 10px 0;
      border-bottom: 1px solid var(--border2);
    }
    .appt-slot:last-child { border-bottom: none; }
    .appt-time { font-size: 12px; font-weight: 600; color: var(--muted); width: 46px; flex-shrink: 0; }
    .appt-info { flex: 1; }
    .appt-info strong { font-size: 13px; display: block; }
    .appt-info span   { font-size: 11px; color: var(--muted); }

    /* â”€â”€â”€ Calendar strip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .cal-strip { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 6px; }
    .cal-day {
      flex-shrink: 0; width: 52px; height: 62px; border-radius: var(--radius);
      display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px;
      border: 1.5px solid var(--border); cursor: pointer; transition: all .15s;
    }
    .cal-day:hover { border-color: var(--accent); }
    .cal-day.today { background: var(--accent); border-color: var(--accent); color: #fff; }
    .cal-day-num { font-size: 18px; font-weight: 700; line-height: 1; }
    .cal-day-name{ font-size: 10px; font-weight: 500; color: var(--muted); }
    .cal-day.today .cal-day-name { color: rgba(255,255,255,.75); }
    .cal-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--ok); }

    /* â”€â”€â”€ Patient card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .patient-card {
      display: flex; align-items: center; gap: 12px; padding: 12px 16px;
      border: 1px solid var(--border2); border-radius: var(--radius);
      background: var(--surface); cursor: pointer; transition: box-shadow .15s;
    }
    .patient-card:hover { box-shadow: 0 2px 10px rgba(0,0,0,.1); }
    .patient-card .info { flex: 1; }
    .patient-card .info strong { font-size: 13px; display: block; }
    .patient-card .info span  { font-size: 11px; color: var(--muted); }

    /* â”€â”€â”€ Doctor card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .doc-card {
      background: var(--surface); border: 1px solid var(--border2);
      border-radius: var(--radius); padding: 20px; text-align: center; box-shadow: var(--shadow);
    }
    .doc-card .avatar { margin: 0 auto 10px; }
    .doc-card strong { display: block; font-size: 14px; }
    .doc-card span   { font-size: 12px; color: var(--muted); }
    .doc-card .rating{ font-size: 12px; color: var(--warn); margin-top: 4px; }
    .doc-card .foot  { display: flex; justify-content: space-between; margin-top: 14px; padding-top: 12px; border-top: 1px solid var(--border2); }
    .doc-card .foot span { font-size: 11px; color: var(--muted); }
    .doc-card .foot strong { font-size: 12px; }

    /* â”€â”€â”€ Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .modal-overlay {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,.45); z-index: 200; align-items: center; justify-content: center;
    }
    .modal-overlay.open { display: flex; }
    .modal {
      background: var(--surface); border-radius: 12px; width: 100%; max-width: 520px;
      max-height: 90vh; overflow-y: auto; box-shadow: 0 12px 40px rgba(0,0,0,.2);
    }
    .modal-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 18px 24px; border-bottom: 1px solid var(--border2);
    }
    .modal-header h3 { font-size: 16px; font-weight: 700; }
    .modal-body   { padding: 24px; display: flex; flex-direction: column; gap: 16px; }
    .modal-footer { padding: 16px 24px; border-top: 1px solid var(--border2); display: flex; gap: 10px; justify-content: flex-end; }

    /* â”€â”€â”€ Breadcrumb â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .breadcrumb { display: flex; gap: 6px; align-items: center; font-size: 12px; color: var(--muted); margin-bottom: 14px; }
    .breadcrumb a:hover { color: var(--accent); }
    .breadcrumb .sep { opacity: .5; }

    /* â”€â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tabs { display: flex; gap: 0; border-bottom: 2px solid var(--border2); margin-bottom: 20px; overflow-x: auto; }
    .tab {
      padding: 9px 18px; font-size: 13px; font-weight: 500; cursor: pointer;
      color: var(--muted); border-bottom: 2px solid transparent; margin-bottom: -2px; white-space: nowrap;
      transition: all .15s;
    }
    .tab.active { color: var(--accent); border-bottom-color: var(--accent); }
    .tab:hover { color: var(--text); }

    /* â”€â”€â”€ Notification panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .notif-panel {
      position: absolute; top: 56px; right: 16px; width: 320px;
      background: var(--surface); border: 1px solid var(--border2);
      border-radius: var(--radius); box-shadow: 0 8px 24px rgba(0,0,0,.12);
      z-index: 150; display: none;
    }
    .notif-panel.open { display: block; }
    .notif-hdr { padding: 14px 16px; border-bottom: 1px solid var(--border2); display: flex; justify-content: space-between; align-items: center; }
    .notif-hdr strong { font-size: 14px; }
    .notif-item { display: flex; gap: 10px; padding: 12px 16px; border-bottom: 1px solid var(--border2); cursor: pointer; transition: background .1s; }
    .notif-item:hover { background: var(--bg); }
    .notif-item:last-child { border-bottom: none; }
    .notif-item .ni-icon { font-size: 20px; }
    .notif-item .ni-body strong { font-size: 12px; display: block; }
    .notif-item .ni-body span  { font-size: 11px; color: var(--muted); }
    .notif-item.unread { background: #eff6ff; }
    .notif-item.unread:hover { background: #dbeafe; }

    /* â”€â”€â”€ Charts (placeholder bars) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .bar-chart { display: flex; align-items: flex-end; gap: 10px; height: 100px; }
    .bar-chart .bar { flex: 1; border-radius: 4px 4px 0 0; min-width: 20px; transition: opacity .15s; }
    .bar-chart .bar:hover { opacity: .8; }
    .bar-labels { display: flex; gap: 10px; margin-top: 6px; }
    .bar-labels span { flex: 1; text-align: center; font-size: 10px; color: var(--muted); }

    /* â”€â”€â”€ Donut â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .donut-wrap { position: relative; width: 110px; height: 110px; margin: 0 auto; }
    .donut-wrap svg { transform: rotate(-90deg); }
    .donut-center { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .donut-center strong { font-size: 20px; font-weight: 800; }
    .donut-center span   { font-size: 10px; color: var(--muted); }
    .donut-legend { display: flex; flex-wrap: wrap; gap: 8px 16px; margin-top: 14px; justify-content: center; }
    .legend-item { display: flex; align-items: center; gap: 5px; font-size: 11px; }
    .legend-dot  { width: 8px; height: 8px; border-radius: 50%; }

    /* â”€â”€â”€ Billing row â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .bill-row { display: flex; justify-content: space-between; padding: 9px 0; border-bottom: 1px solid var(--border2); font-size: 13px; }
    .bill-row:last-child { border-bottom: none; }
    .bill-total { display: flex; justify-content: space-between; padding-top: 12px; font-weight: 700; font-size: 15px; }

    /* â”€â”€â”€ Timeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .timeline { position: relative; padding-left: 28px; }
    .timeline::before { content: ''; position: absolute; left: 7px; top: 6px; bottom: 0; width: 2px; background: var(--border2); }
    .tl-item { position: relative; margin-bottom: 18px; }
    .tl-dot { position: absolute; left: -24px; top: 5px; width: 12px; height: 12px; border-radius: 50%; border: 2px solid var(--surface); }
    .tl-content strong { font-size: 13px; display: block; }
    .tl-content span   { font-size: 11px; color: var(--muted); }
    .tl-content p      { font-size: 12px; margin-top: 3px; }

    /* â”€â”€â”€ Alert banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .alert {
      display: flex; align-items: flex-start; gap: 10px; padding: 12px 16px;
      border-radius: var(--radius); margin-bottom: 16px; font-size: 13px;
    }
    .alert-warn  { background: #fffbeb; border-left: 4px solid var(--warn); }
    .alert-blue  { background: #eff6ff; border-left: 4px solid var(--accent); }
    .alert-green { background: #ecfdf5; border-left: 4px solid var(--ok); }
    .alert-red   { background: #fef2f2; border-left: 4px solid var(--danger); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 900px) {
      .grid-3 { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 768px) {
      :root { --sidebar-w: 240px; }
      #sidebar {
        position: fixed; top: 0; left: 0; bottom: 0;
        transform: translateX(-100%); height: 100vh;
      }
      #sidebar.open { transform: translateX(0); }
      #sidebar-overlay.open { display: block; }
      #menu-toggle { display: flex; }
      #main { padding: 16px; }
      .grid-2 { grid-template-columns: 1fr; }
      .grid-3 { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
      .topbar-search { display: none; }
      .notif-panel { right: 8px; left: 8px; width: auto; }
    }
    @media (max-width: 420px) {
      .stats-grid { grid-template-columns: 1fr 1fr; }
      #main { padding: 12px; }
    }

    /* â”€â”€â”€ New Role Screens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .rscreen { display:none; }
    .rscreen.active { display:block; }

    /* Step Wizard */
    .wizard-steps { display:flex; margin-bottom:24px; border-radius:8px; overflow:hidden; border:1px solid var(--border); }
    .wizard-step { flex:1; padding:11px 6px; text-align:center; font-size:12px; font-weight:600; background:var(--bg); color:var(--muted); border-right:1px solid var(--border); cursor:pointer; transition:all .2s; }
    .wizard-step:last-child { border-right:none; }
    .wizard-step.active { background:var(--accent); color:#fff; }
    .wizard-step.done { background:#ecfdf5; color:var(--ok); }
    .payroll-step { display:none; }
    .payroll-step.active { display:block; }

    /* Pay Summary */
    .pay-row { display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid var(--border2); font-size:13px; }
    .pay-row.total { font-weight:700; font-size:15px; border-bottom:none; padding-top:14px; }

    /* Request Item */
    .req-item { background:var(--surface); border:1px solid var(--border2); border-radius:8px; padding:16px; margin-bottom:10px; display:flex; align-items:flex-start; gap:14px; transition:border-color .15s; }
    .req-item:hover { border-color:var(--accent); }
    .req-body { flex:1; min-width:0; }
    .req-name { font-weight:600; font-size:14px; margin-bottom:3px; }
    .req-meta { font-size:12px; color:var(--muted); }
    .req-actions { display:flex; gap:8px; flex-shrink:0; align-items:flex-start; }

    /* Attendance status colors */
    .att-present { color:var(--ok); font-weight:600; }
    .att-absent  { color:var(--danger); font-weight:600; }
    .att-leave   { color:var(--warn); font-weight:600; }
    .att-late    { color:#f97316; font-weight:600; }

    /* Modal overlay/box */
    .modal-overlay2 { position:fixed; inset:0; background:rgba(0,0,0,.52); z-index:1000; display:none; align-items:center; justify-content:center; padding:20px; }
    .modal-overlay2.open { display:flex; }
    .modal2 { background:var(--surface); border-radius:12px; padding:28px; max-width:540px; width:100%; max-height:90vh; overflow-y:auto; box-shadow:0 20px 60px rgba(0,0,0,.3); }
    .modal2-title { font-size:18px; font-weight:700; margin-bottom:18px; }
    .modal2-footer { display:flex; gap:10px; justify-content:flex-end; margin-top:22px; padding-top:16px; border-top:1px solid var(--border2); }

    /* Toast */
    #toast2 { position:fixed; bottom:24px; right:24px; background:#1f2937; color:#fff; padding:13px 20px; border-radius:10px; font-size:13px; font-weight:500; box-shadow:0 8px 24px rgba(0,0,0,.3); z-index:9999; display:none; max-width:340px; line-height:1.5; }

    /* Cutoff card select */
    .co-card { border:2px solid var(--border); border-radius:8px; padding:20px; text-align:center; cursor:pointer; transition:all .2s; background:var(--surface); }
    .co-card:hover,.co-card.sel { border-color:var(--accent); background:var(--accent-lt); }

    /* Grid helpers for new screens */
    .g2 { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .g3 { display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
    .g4 { display:grid; grid-template-columns:repeat(4,1fr); gap:16px; }
    @media(max-width:900px){ .g4{grid-template-columns:1fr 1fr} .g3{grid-template-columns:1fr 1fr} }
    @media(max-width:600px){ .g4,.g3,.g2{grid-template-columns:1fr} .req-actions{flex-direction:column} }

    /* Coming-soon card */
    .coming-card { opacity:.55; text-align:center; padding:32px 20px; }
    .coming-card .ci { font-size:40px; margin-bottom:10px; }
  </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LOGIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="screen-login">
  <div class="login-box">
    <div class="login-logo">
      <div class="logo-icon">ğŸ¥</div>
      <div>
        <h1>SUMMIT PT CLINIC</h1>
        <span>Hospital / Clinic Admin System</span>
      </div>
    </div>
    <h2>Admin Sign In</h2>
    <p class="sub">Select your role, then enter your credentials</p>

    <div id="login-error-msg" style="display:none;background:#fef2f2;border:1px solid #fecaca;color:#991b1b;padding:11px 14px;border-radius:8px;font-size:13px;margin-bottom:14px;display:none">
      â›” Invalid credentials â€” Access Denied
    </div>

    <p style="font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px;">Select Admin Role</p>
    <div class="role-tabs">
      <div class="role-tab active" onclick="selectRole(this,'hradmin')">ğŸ‘¥ HR Admin</div>
      <div class="role-tab" onclick="selectRole(this,'supervisor')">ğŸ‘ï¸ Supervisor</div>
      <div class="role-tab" onclick="selectRole(this,'manager')">ğŸ“Š Manager</div>
      <div class="role-tab" onclick="selectRole(this,'superadmin')">ğŸ›¡ï¸ Super Admin</div>
    </div>

    <div class="login-form">
      <div class="field">
        <label>Employee ID / Email</label>
        <input class="input" id="login-user" type="text" placeholder="e.g. hradmin@summit.ph" />
      </div>
      <div class="field">
        <label>Password</label>
        <input class="input" id="login-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
      </div>
      <button class="btn btn-primary full-w" style="padding:11px;font-size:14px;" onclick="doLogin()">
        Sign In to Hospital Admin â†’
      </button>
    </div>
    <div class="login-footer">Hospital / Clinic Admin System &nbsp;Â·&nbsp; SUMMIT PT CLINIC</div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     APP SHELL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="app" class="hidden">

  <!-- Sidebar Overlay (mobile) -->
  <div id="sidebar-overlay" onclick="closeSidebar()"></div>

  <!-- Sidebar -->
  <nav id="sidebar">
    <div class="sidebar-brand">
      <div class="brand-icon">ğŸ¥</div>
      <div class="brand-text">SUMMIT PT CLINIC <span id="portal-label">Admin Portal</span></div>
    </div>

    <!-- Dynamic nav built by JS -->
    <div id="dyn-nav" style="flex:1;overflow-y:auto;padding:10px 0;"></div>

    <div class="sidebar-user">
      <div class="avatar" id="sidebar-avatar" style="background:var(--accent)">?</div>
      <div class="info">
        <strong id="sidebar-name">â€”</strong>
        <span id="sidebar-role-label">â€”</span>
      </div>
      <button class="btn-icon" onclick="doLogout()" title="Logout" style="border-color:rgba(255,255,255,.2);background:transparent;color:#94a3b8;font-size:16px;">â»</button>
    </div>
  </nav>

  <!-- Main wrap -->
  <div id="main-wrap">

    <!-- Top bar -->
    <header id="topbar">
      <button id="menu-toggle" class="btn-icon" onclick="toggleSidebar()">â˜°</button>
      <div class="topbar-search">
        <span>ğŸ”</span>
        <input type="text" placeholder="Search patients, therapists, recordsâ€¦" />
      </div>
      <div class="topbar-right">
        <div class="notif-btn" style="position:relative;">
          <button class="btn-icon" onclick="toggleNotif()" title="Notifications">ğŸ””
            <span class="notif-dot"></span>
          </button>
          <!-- Notification Panel -->
          <div class="notif-panel" id="notif-panel">
            <div class="notif-hdr"><strong>Notifications</strong><button class="btn btn-sm btn-outline">Mark all read</button></div>
            <div class="notif-item unread">
              <span class="ni-icon">ğŸš¨</span>
              <div class="ni-body"><strong>Critical: ICU bed 3 alert</strong><span>2 minutes ago</span></div>
            </div>
            <div class="notif-item unread">
              <span class="ni-icon">ğŸ§¾</span>
              <div class="ni-body"><strong>Invoice #1042 overdue</strong><span>15 minutes ago</span></div>
            </div>
            <div class="notif-item unread">
              <span class="ni-icon">ğŸ‘¤</span>
              <div class="ni-body"><strong>New patient registered â€“ Sarah M.</strong><span>1 hour ago</span></div>
            </div>
            <div class="notif-item">
              <span class="ni-icon">ğŸ“…</span>
              <div class="ni-body"><strong>Dr. Patel shift starts at 08:00</strong><span>Today</span></div>
            </div>
            <div class="notif-item">
              <span class="ni-icon">ğŸ’Š</span>
              <div class="ni-body"><strong>Paracetamol stock low (12 units)</strong><span>Yesterday</span></div>
            </div>
          </div>
        </div>
        <div class="avatar" id="topbar-avatar" style="cursor:pointer;background:var(--accent)">SA</div>
      </div>
    </header>

    <!-- Page content -->
    <main id="main">

      <!-- â”€â”€â”€â”€ ROLE BANNERS â”€â”€â”€â”€ -->
      <div id="role-banner" class="hidden" style="margin-bottom:18px;">
        <div id="banner-content" class="alert alert-blue" style="display:flex;align-items:center;gap:14px;padding:16px 20px;border-radius:10px;">
          <span id="banner-icon" style="font-size:28px;"></span>
          <div>
            <div id="banner-title" style="font-size:16px;font-weight:700;"></div>
            <div id="banner-desc" style="font-size:12px;color:var(--muted);margin-top:2px;"></div>
          </div>
          <div id="banner-access" style="margin-left:auto;display:flex;gap:6px;flex-wrap:wrap;"></div>
        </div>
      </div>

      <!-- â”€â”€â”€â”€ DASHBOARD â”€â”€â”€â”€ -->
      <div id="screen-dashboard" class="screen active">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div>
            <h2>Dashboard</h2>
            <p>Sunday, 22 February 2026 &nbsp;Â·&nbsp; SUMMIT PT CLINIC</p>
          </div>
          <div class="flex gap-2">
            <button class="btn btn-outline btn-sm">ğŸ“¥ Export</button>
            <button class="btn btn-primary btn-sm" onclick="openModal('newPatientModal')">+ New Patient</button>
          </div>
        </div>

        <div class="alert alert-warn">
          <span>âš ï¸</span>
          <div><strong>Low inventory alert:</strong> 3 items are below minimum stock level. <a href="#" onclick="navigate('inventory',null)" style="color:var(--accent);">View inventory â†’</a></div>
        </div>

        <!-- KPI Stats -->
        <div class="stats-grid">
          <!-- Super Admin + Supervisor: Patient overview -->
          <div class="stat-card blue" data-roles="superadmin,supervisor">
            <div class="stat-icon">ğŸ§‘â€âš•ï¸</div>
            <div class="stat-val">1,284</div>
            <div class="stat-lbl">Total Patients</div>
            <div class="stat-delta delta-up">â†‘ 4.2% this month</div>
          </div>
          <div class="stat-card green" data-roles="superadmin,supervisor">
            <div class="stat-icon">ğŸ“…</div>
            <div class="stat-val">48</div>
            <div class="stat-lbl">Today's Appointments</div>
            <div class="stat-delta delta-up">â†‘ 12 pending</div>
          </div>
          <div class="stat-card warn" data-roles="superadmin,supervisor">
            <div class="stat-icon">ğŸ›ï¸</div>
            <div class="stat-val">37<span style="font-size:16px;">/60</span></div>
            <div class="stat-lbl">Beds Occupied</div>
            <div class="stat-delta" style="color:var(--warn);">61.7% occupancy</div>
          </div>
          <div class="stat-card red" data-roles="superadmin,supervisor">
            <div class="stat-icon">ğŸš¨</div>
            <div class="stat-val">5</div>
            <div class="stat-lbl">Emergency Cases</div>
            <div class="stat-delta delta-dn">â†‘ 2 new today</div>
          </div>
          <!-- Super Admin + HR Admin + Supervisor: Staff overview -->
          <div class="stat-card blue" data-roles="superadmin,hradmin,supervisor">
            <div class="stat-icon">ğŸ‘¨â€âš•ï¸</div>
            <div class="stat-val">24</div>
            <div class="stat-lbl">Therapists On Duty</div>
            <div class="stat-delta delta-up">â†‘ 3 on call</div>
          </div>
          <div class="stat-card green" data-roles="superadmin,hradmin">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-val">58</div>
            <div class="stat-lbl">Total Staff</div>
            <div class="stat-delta delta-up">â†‘ 2 new this week</div>
          </div>
          <div class="stat-card warn" data-roles="superadmin,hradmin">
            <div class="stat-icon">ğŸ“‹</div>
            <div class="stat-val">4</div>
            <div class="stat-lbl">Pending HR Reports</div>
            <div class="stat-delta delta-dn">Awaiting submission</div>
          </div>
          <div class="stat-card red" data-roles="superadmin,hradmin">
            <div class="stat-icon">ğŸ–ï¸</div>
            <div class="stat-val">3</div>
            <div class="stat-lbl">Staff on Leave</div>
            <div class="stat-delta delta-dn">Coverage needed</div>
          </div>
          <!-- Super Admin + Manager: Billing & Financial overview -->
          <div class="stat-card green" data-roles="superadmin,manager">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-val">$42k</div>
            <div class="stat-lbl">Revenue Today</div>
            <div class="stat-delta delta-up">â†‘ 8.1% vs yesterday</div>
          </div>
          <div class="stat-card warn" data-roles="superadmin,manager">
            <div class="stat-icon">â³</div>
            <div class="stat-val">$14k</div>
            <div class="stat-lbl">Pending Payments</div>
            <div class="stat-delta delta-dn">12 invoices pending</div>
          </div>
          <div class="stat-card red" data-roles="superadmin,manager">
            <div class="stat-icon">ğŸ§¾</div>
            <div class="stat-val">$3.4k</div>
            <div class="stat-lbl">Overdue Invoices</div>
            <div class="stat-delta delta-dn">3 flagged today</div>
          </div>
          <div class="stat-card blue" data-roles="superadmin,manager">
            <div class="stat-icon">ğŸ“¦</div>
            <div class="stat-val">3</div>
            <div class="stat-lbl">Low Inventory Items</div>
            <div class="stat-delta delta-dn">Below minimum stock</div>
          </div>
          <!-- Super Admin + Supervisor: Approval queue -->
          <div class="stat-card blue" data-roles="superadmin,supervisor,manager">
            <div class="stat-icon">âœ…</div>
            <div class="stat-val">7</div>
            <div class="stat-lbl">Reports to Approve</div>
            <div class="stat-delta delta-dn">Awaiting review</div>
          </div>
          <div class="stat-card warn" data-roles="superadmin,supervisor">
            <div class="stat-icon">ğŸ—“ï¸</div>
            <div class="stat-val">6</div>
            <div class="stat-lbl">Unconfirmed Slots</div>
            <div class="stat-delta delta-dn">Needs confirmation</div>
          </div>
        </div>

        <!-- Row 2 -->
        <div class="grid-2" style="margin-bottom:20px;">
          <!-- Appointments today -->
          <div class="card">
            <div class="flex justify-between items-center" style="margin-bottom:14px;">
              <div class="card-title" style="margin:0;">Today's Appointments</div>
              <button class="btn btn-sm btn-outline" onclick="navigate('appointments', null)">View all</button>
            </div>
            <div class="appt-slot">
              <div class="appt-time">08:00</div>
              <div class="avatar" style="background:#8b5cf6;">RM</div>
              <div class="appt-info"><strong>Robert Mills</strong><span>Dr. Patel Â· Cardiology</span></div>
              <span class="badge badge-green">Confirmed</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">08:30</div>
              <div class="avatar" style="background:#ec4899;">SK</div>
              <div class="appt-info"><strong>Sara Kim</strong><span>Dr. Chen Â· Neurology</span></div>
              <span class="badge badge-yellow">Waiting</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">09:00</div>
              <div class="avatar" style="background:#f59e0b;">TW</div>
              <div class="appt-info"><strong>Tom Wilson</strong><span>Dr. Lena Â· Ortho.</span></div>
              <span class="badge badge-blue">In Progress</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">10:15</div>
              <div class="avatar" style="background:#10b981;">AB</div>
              <div class="appt-info"><strong>Alice Brown</strong><span>Dr. Patel Â· Cardiology</span></div>
              <span class="badge badge-gray">Scheduled</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">11:00</div>
              <div class="avatar" style="background:#ef4444;">JD</div>
              <div class="appt-info"><strong>James Doe</strong><span>Dr. Smith Â· Pediatrics</span></div>
              <span class="badge badge-red">Cancelled</span>
            </div>
          </div>

          <!-- Bed Occupancy -->
          <div class="card">
            <div class="card-title">Bed Occupancy by Ward</div>
            <div style="display:flex;flex-direction:column;gap:14px;">
              <div>
                <div class="flex justify-between text-sm" style="margin-bottom:5px;">
                  <span>General Ward</span><span class="bold">22/30</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:73%;background:var(--accent);"></div></div>
              </div>
              <div>
                <div class="flex justify-between text-sm" style="margin-bottom:5px;">
                  <span>ICU</span><span class="bold" style="color:var(--danger);">8/10</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:80%;background:var(--danger);"></div></div>
              </div>
              <div>
                <div class="flex justify-between text-sm" style="margin-bottom:5px;">
                  <span>Paediatrics</span><span class="bold">5/12</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:42%;background:var(--ok);"></div></div>
              </div>
              <div>
                <div class="flex justify-between text-sm" style="margin-bottom:5px;">
                  <span>Maternity</span><span class="bold">4/8</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:50%;background:#8b5cf6;"></div></div>
              </div>
              <div>
                <div class="flex justify-between text-sm" style="margin-bottom:5px;">
                  <span>Emergency</span><span class="bold" style="color:var(--warn);">5/6</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:83%;background:var(--warn);"></div></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Row 3 -->
        <div class="grid-2">
          <!-- Patient flow chart -->
          <div class="card">
            <div class="card-title">Weekly Patient Flow</div>
            <div class="bar-chart">
              <div class="bar" style="height:55%;background:var(--accent);" title="Mon:38"></div>
              <div class="bar" style="height:70%;background:var(--accent);" title="Tue:48"></div>
              <div class="bar" style="height:45%;background:var(--accent);" title="Wed:31"></div>
              <div class="bar" style="height:90%;background:var(--accent);" title="Thu:62"></div>
              <div class="bar" style="height:75%;background:var(--accent);" title="Fri:52"></div>
              <div class="bar" style="height:60%;background:var(--accent);" title="Sat:41"></div>
              <div class="bar" style="height:80%;background:#bfdbfe;" title="Sun:55"></div>
            </div>
            <div class="bar-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>

          <!-- Recent activity -->
          <div class="card">
            <div class="card-title">Recent Activity</div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--ok);"></div>
              <div><div class="act-text"><strong>Patient admitted</strong> â€“ Emily Carter, Ward B-12</div><div class="act-time">5 min ago</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--accent);"></div>
              <div><div class="act-text"><strong>Appointment booked</strong> â€“ John Doe with Dr. Patel</div><div class="act-time">18 min ago</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--danger);"></div>
              <div><div class="act-text"><strong>Emergency alert</strong> â€“ ICU Patient #0032 critical</div><div class="act-time">32 min ago</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--warn);"></div>
              <div><div class="act-text"><strong>Invoice overdue</strong> â€“ Invoice #1042 â€“ $3,400</div><div class="act-time">1 hr ago</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--ok);"></div>
              <div><div class="act-text"><strong>Patient discharged</strong> â€“ Michael Lee, Room 204</div><div class="act-time">2 hr ago</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:#8b5cf6;"></div>
              <div><div class="act-text"><strong>New staff added</strong> â€“ Nurse Angela Brown</div><div class="act-time">3 hr ago</div></div>
            </div>
          </div>
        </div>
      </div><!-- /dashboard -->

      <!-- â”€â”€â”€â”€ PATIENTS â”€â”€â”€â”€ -->
      <div id="screen-patients" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Patient Records</h2><p>Manage all registered patients</p></div>
          <div class="flex gap-2">
            <button class="btn btn-outline btn-sm">ğŸ“¥ Export</button>
            <button class="btn btn-primary btn-sm" onclick="openModal('newPatientModal')">+ Register Patient</button>
          </div>
        </div>

        <div class="card" style="margin-bottom:18px;">
          <div class="flex gap-2 wrap">
            <input class="input" style="max-width:280px;" placeholder="ğŸ” Search patient name, IDâ€¦" />
            <select class="select" style="max-width:160px;"><option>All Status</option><option>Admitted</option><option>OPD</option><option>Discharged</option></select>
            <select class="select" style="max-width:160px;"><option>All Wards</option><option>General</option><option>ICU</option><option>Paediatrics</option></select>
            <button class="btn btn-outline btn-sm">ğŸ”½ Filter</button>
          </div>
        </div>

        <div class="card">
          <div class="tbl-wrap">
            <table>
              <thead>
                <tr><th>Patient</th><th>ID</th><th>Age/Sex</th><th>Diagnosis</th><th>Ward</th><th>Doctor</th><th>Status</th><th>Actions</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td><div class="flex items-center gap-2"><div class="avatar" style="background:#3b82f6;">RC</div><div><div class="bold">Robert Cole</div><div class="text-sm text-muted">robert@email.com</div></div></div></td>
                  <td class="text-muted">#P-1042</td><td>45 / M</td>
                  <td>Hypertension</td><td>General B</td><td>Dr. Patel</td>
                  <td><span class="badge badge-blue">Admitted</span></td>
                  <td><div class="flex gap-1"><button class="btn btn-sm btn-outline" onclick="navigate('records',null)">View</button><button class="btn btn-sm btn-primary">Edit</button></div></td>
                </tr>
                <tr>
                  <td><div class="flex items-center gap-2"><div class="avatar" style="background:#ec4899;">SK</div><div><div class="bold">Sara Kim</div><div class="text-sm text-muted">sara.k@email.com</div></div></div></td>
                  <td class="text-muted">#P-1041</td><td>32 / F</td>
                  <td>Migraine</td><td>OPD</td><td>Dr. Chen</td>
                  <td><span class="badge badge-green">Discharged</span></td>
                  <td><div class="flex gap-1"><button class="btn btn-sm btn-outline" onclick="navigate('records',null)">View</button><button class="btn btn-sm btn-primary">Edit</button></div></td>
                </tr>
                <tr>
                  <td><div class="flex items-center gap-2"><div class="avatar" style="background:#ef4444;">EM</div><div><div class="bold">Emily Moore</div><div class="text-sm text-muted">emily.m@email.com</div></div></div></td>
                  <td class="text-muted">#P-1040</td><td>68 / F</td>
                  <td>Cardiac Arrhythmia</td><td>ICU</td><td>Dr. Patel</td>
                  <td><span class="badge badge-red">Critical</span></td>
                  <td><div class="flex gap-1"><button class="btn btn-sm btn-outline" onclick="navigate('records',null)">View</button><button class="btn btn-sm btn-primary">Edit</button></div></td>
                </tr>
                <tr>
                  <td><div class="flex items-center gap-2"><div class="avatar" style="background:#10b981;">JD</div><div><div class="bold">James Davis</div><div class="text-sm text-muted">jdavis@email.com</div></div></div></td>
                  <td class="text-muted">#P-1039</td><td>7 / M</td>
                  <td>Pneumonia</td><td>Paediatrics</td><td>Dr. Smith</td>
                  <td><span class="badge badge-yellow">Observation</span></td>
                  <td><div class="flex gap-1"><button class="btn btn-sm btn-outline" onclick="navigate('records',null)">View</button><button class="btn btn-sm btn-primary">Edit</button></div></td>
                </tr>
                <tr>
                  <td><div class="flex items-center gap-2"><div class="avatar" style="background:#8b5cf6;">AL</div><div><div class="bold">Angela Lee</div><div class="text-sm text-muted">ag.lee@email.com</div></div></div></td>
                  <td class="text-muted">#P-1038</td><td>29 / F</td>
                  <td>Pre-natal Check</td><td>Maternity</td><td>Dr. Rosa</td>
                  <td><span class="badge badge-blue">Admitted</span></td>
                  <td><div class="flex gap-1"><button class="btn btn-sm btn-outline" onclick="navigate('records',null)">View</button><button class="btn btn-sm btn-primary">Edit</button></div></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="flex justify-between items-center" style="margin-top:14px;padding-top:14px;border-top:1px solid var(--border2);">
            <span class="text-sm text-muted">Showing 1â€“5 of 142 patients</span>
            <div class="flex gap-1">
              <button class="btn btn-outline btn-sm">â€¹ Prev</button>
              <button class="btn btn-primary btn-sm">1</button>
              <button class="btn btn-outline btn-sm">2</button>
              <button class="btn btn-outline btn-sm">3</button>
              <button class="btn btn-outline btn-sm">Next â€º</button>
            </div>
          </div>
        </div>
      </div><!-- /patients -->

      <!-- â”€â”€â”€â”€ APPOINTMENTS â”€â”€â”€â”€ -->
      <div id="screen-appointments" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Appointments</h2><p>Schedule and manage patient appointments</p></div>
          <button class="btn btn-primary btn-sm" onclick="openModal('newApptModal')">+ Book Appointment</button>
        </div>

        <!-- Calendar strip -->
        <div class="card" style="margin-bottom:18px;">
          <div class="flex justify-between items-center" style="margin-bottom:14px;">
            <div class="text-lg">February 2026</div>
            <div class="flex gap-2">
              <button class="btn btn-outline btn-sm">â€¹</button>
              <button class="btn btn-outline btn-sm">Today</button>
              <button class="btn btn-outline btn-sm">â€º</button>
            </div>
          </div>
          <div class="cal-strip">
            <div class="cal-day"><div class="cal-day-num">16</div><div class="cal-day-name">MON</div></div>
            <div class="cal-day"><div class="cal-day-num">17</div><div class="cal-day-name">TUE</div><div class="cal-dot"></div></div>
            <div class="cal-day"><div class="cal-day-num">18</div><div class="cal-day-name">WED</div></div>
            <div class="cal-day"><div class="cal-day-num">19</div><div class="cal-day-name">THU</div><div class="cal-dot"></div></div>
            <div class="cal-day"><div class="cal-day-num">20</div><div class="cal-day-name">FRI</div><div class="cal-dot"></div></div>
            <div class="cal-day"><div class="cal-day-num">21</div><div class="cal-day-name">SAT</div></div>
            <div class="cal-day today"><div class="cal-day-num">22</div><div class="cal-day-name">SUN</div></div>
            <div class="cal-day"><div class="cal-day-num">23</div><div class="cal-day-name">MON</div></div>
            <div class="cal-day"><div class="cal-day-num">24</div><div class="cal-day-name">TUE</div></div>
            <div class="cal-day"><div class="cal-day-num">25</div><div class="cal-day-name">WED</div></div>
            <div class="cal-day"><div class="cal-day-num">26</div><div class="cal-day-name">THU</div></div>
            <div class="cal-day"><div class="cal-day-num">27</div><div class="cal-day-name">FRI</div></div>
          </div>
        </div>

        <div class="grid-2">
          <div class="card">
            <div class="card-title">Today â€“ Feb 22, 2026</div>
            <div class="appt-slot">
              <div class="appt-time">08:00</div>
              <div class="avatar" style="background:#3b82f6;">RM</div>
              <div class="appt-info"><strong>Robert Mills</strong><span>Dr. Patel Â· Cardiology Â· 30 min</span></div>
              <span class="badge badge-green">Done</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">09:00</div>
              <div class="avatar" style="background:#8b5cf6;">TW</div>
              <div class="appt-info"><strong>Tom Wilson</strong><span>Dr. Lena Â· Ortho Â· 45 min</span></div>
              <span class="badge badge-blue">In Progress</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">10:15</div>
              <div class="avatar" style="background:#10b981;">AB</div>
              <div class="appt-info"><strong>Alice Brown</strong><span>Dr. Patel Â· Cardiology Â· 30 min</span></div>
              <span class="badge badge-gray">Scheduled</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">11:30</div>
              <div class="avatar" style="background:#ec4899;">MP</div>
              <div class="appt-info"><strong>Maria Park</strong><span>Dr. Rosa Â· Maternity Â· 20 min</span></div>
              <span class="badge badge-gray">Scheduled</span>
            </div>
            <div class="appt-slot">
              <div class="appt-time">14:00</div>
              <div class="avatar" style="background:#f59e0b;">GT</div>
              <div class="appt-info"><strong>George Taylor</strong><span>Dr. Chen Â· Neurology Â· 60 min</span></div>
              <span class="badge badge-yellow">Waiting</span>
            </div>
          </div>

          <div class="card">
            <div class="card-title">Quick Book</div>
            <div class="flex flex-col gap-3">
              <div class="field"><label>Patient</label><input class="input" placeholder="Search patient name or IDâ€¦" /></div>
              <div class="field"><label>Department</label>
                <select class="select"><option>Select department</option><option>Cardiology</option><option>Neurology</option><option>Orthopaedics</option><option>Paediatrics</option><option>Maternity</option></select>
              </div>
              <div class="field"><label>Doctor</label>
                <select class="select"><option>Select doctor</option><option>Dr. Patel</option><option>Dr. Chen</option><option>Dr. Lena</option><option>Dr. Smith</option></select>
              </div>
              <div class="grid-2" style="gap:10px;">
                <div class="field"><label>Date</label><input class="input" type="date" value="2026-02-22" /></div>
                <div class="field"><label>Time</label><input class="input" type="time" value="09:00" /></div>
              </div>
              <div class="field"><label>Notes</label><input class="input" placeholder="Reason for visitâ€¦" /></div>
              <button class="btn btn-primary">Book Appointment</button>
            </div>
          </div>
        </div>
      </div><!-- /appointments -->

      <!-- â”€â”€â”€â”€ MEDICAL RECORDS â”€â”€â”€â”€ -->
      <div id="screen-records" class="screen">
        <div class="breadcrumb"><a href="#" onclick="navigate('patients',null)">Patients</a><span class="sep">/</span><span>Medical Records</span></div>
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>View Patient Info</h2><p>Patient #P-1042 â€“ Robert Cole</p></div>
          <div class="flex gap-2">
            <button class="btn btn-outline btn-sm">ğŸ–¨ï¸ Print</button>
            <button class="btn btn-primary btn-sm">+ Add Record</button>
          </div>
        </div>

        <!-- Patient overview -->
        <div class="card" style="margin-bottom:20px;">
          <div class="flex gap-4 wrap">
            <div class="avatar avatar-lg" style="background:#3b82f6;">RC</div>
            <div style="flex:1;min-width:200px;">
              <div class="text-xl">Robert Cole</div>
              <div class="text-sm text-muted" style="margin-top:2px;">Male Â· 45 years Â· DOB: 1981-03-14 Â· Blood: O+</div>
              <div class="flex gap-3 wrap" style="margin-top:10px;">
                <span class="badge badge-blue">Admitted</span>
                <span class="badge badge-gray">Ward: General B, Bed 7</span>
                <span class="badge badge-gray">Dr. Patel</span>
              </div>
            </div>
            <div class="flex gap-2">
              <button class="btn btn-outline btn-sm">ğŸ“ Contact</button>
              <button class="btn btn-outline btn-sm">ğŸ’Š Prescription</button>
            </div>
          </div>
          <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:14px;margin-top:20px;padding-top:16px;border-top:1px solid var(--border2);">
            <div><div class="text-sm text-muted">Admission Date</div><div class="bold">Feb 18, 2026</div></div>
            <div><div class="text-sm text-muted">Allergies</div><div class="bold" style="color:var(--danger);">Penicillin</div></div>
            <div><div class="text-sm text-muted">Height / Weight</div><div class="bold">178 cm / 82 kg</div></div>
            <div><div class="text-sm text-muted">Blood Pressure</div><div class="bold">145/90 mmHg</div></div>
            <div><div class="text-sm text-muted">Heart Rate</div><div class="bold">88 bpm</div></div>
            <div><div class="text-sm text-muted">Temperature</div><div class="bold">37.2 Â°C</div></div>
          </div>
        </div>

        <div class="tabs">
          <div class="tab active" onclick="switchTab(this,'tab-history')">Patient History</div>
          <div class="tab" onclick="switchTab(this,'tab-labs')">Lab Results</div>
          <div class="tab" onclick="switchTab(this,'tab-meds')">Medications</div>
          <div class="tab" onclick="switchTab(this,'tab-notes')">Doctor Notes</div>
        </div>

        <div id="tab-history" class="tab-panel">
          <div class="card">
            <div class="timeline">
              <div class="tl-item">
                <div class="tl-dot" style="background:var(--danger);"></div>
                <div class="tl-content">
                  <strong>Admitted to General Ward</strong>
                  <span>Feb 18, 2026 Â· 09:14 Â· Dr. Patel</span>
                  <p>Patient presented with chest pain and elevated BP (155/95). ECG ordered. Started on Amlodipine 5 mg.</p>
                </div>
              </div>
              <div class="tl-item">
                <div class="tl-dot" style="background:var(--accent);"></div>
                <div class="tl-content">
                  <strong>Lab Results Received</strong>
                  <span>Feb 19, 2026 Â· 11:30</span>
                  <p>Lipid panel showed elevated LDL (180 mg/dL). Troponin normal.</p>
                </div>
              </div>
              <div class="tl-item">
                <div class="tl-dot" style="background:var(--ok);"></div>
                <div class="tl-content">
                  <strong>Vitals Improving</strong>
                  <span>Feb 21, 2026 Â· 08:00 Â· Nurse Turner</span>
                  <p>BP reduced to 140/88. Patient ambulatory and responding well.</p>
                </div>
              </div>
              <div class="tl-item">
                <div class="tl-dot" style="background:var(--warn);"></div>
                <div class="tl-content">
                  <strong>Follow-up Echo Scheduled</strong>
                  <span>Feb 22, 2026 Â· 10:00 Â· Dr. Patel</span>
                  <p>Echocardiogram booked for Feb 25. Discharge expected after results.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="tab-labs" class="tab-panel hidden">
          <div class="card">
            <div class="tbl-wrap">
              <table>
                <thead><tr><th>Test</th><th>Result</th><th>Reference</th><th>Status</th><th>Date</th></tr></thead>
                <tbody>
                  <tr><td>Troponin I</td><td>0.01 ng/mL</td><td>0â€“0.04 ng/mL</td><td><span class="badge badge-green">Normal</span></td><td>Feb 18</td></tr>
                  <tr><td>LDL Cholesterol</td><td>180 mg/dL</td><td>&lt;100 mg/dL</td><td><span class="badge badge-red">High</span></td><td>Feb 19</td></tr>
                  <tr><td>Fasting Glucose</td><td>108 mg/dL</td><td>70â€“99 mg/dL</td><td><span class="badge badge-yellow">Borderline</span></td><td>Feb 19</td></tr>
                  <tr><td>eGFR</td><td>78 mL/min</td><td>&gt;60 mL/min</td><td><span class="badge badge-green">Normal</span></td><td>Feb 20</td></tr>
                  <tr><td>CBC â€“ WBC</td><td>7.2 Ã—10Â³/Î¼L</td><td>4.5â€“11.0</td><td><span class="badge badge-green">Normal</span></td><td>Feb 20</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div id="tab-meds" class="tab-panel hidden">
          <div class="card">
            <div class="tbl-wrap">
              <table>
                <thead><tr><th>Medication</th><th>Dose</th><th>Frequency</th><th>Route</th><th>Prescribed By</th><th>Status</th></tr></thead>
                <tbody>
                  <tr><td><strong>Amlodipine</strong></td><td>5 mg</td><td>Once daily</td><td>Oral</td><td>Dr. Patel</td><td><span class="badge badge-green">Active</span></td></tr>
                  <tr><td><strong>Atorvastatin</strong></td><td>40 mg</td><td>Nightly</td><td>Oral</td><td>Dr. Patel</td><td><span class="badge badge-green">Active</span></td></tr>
                  <tr><td><strong>Aspirin</strong></td><td>81 mg</td><td>Once daily</td><td>Oral</td><td>Dr. Patel</td><td><span class="badge badge-green">Active</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div id="tab-notes" class="tab-panel hidden">
          <div class="card">
            <div class="flex flex-col gap-3" style="margin-bottom:20px;">
              <div class="field"><label>Add Doctor Note</label><textarea class="input" rows="3" placeholder="Enter clinical notesâ€¦" style="resize:vertical;"></textarea></div>
              <button class="btn btn-primary" style="align-self:flex-start;">Save Note</button>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--accent);"></div>
              <div><div class="act-text" style="font-size:13px;"><strong>Dr. Patel:</strong> Patient stable. Echo booked. Continue current meds, low-salt diet advised.</div><div class="act-time">Feb 22, 10:05</div></div>
            </div>
            <div class="activity-item">
              <div class="act-dot" style="background:var(--ok);"></div>
              <div><div class="act-text" style="font-size:13px;"><strong>Nurse Turner:</strong> BP measured 140/88, patient not in distress, eating well.</div><div class="act-time">Feb 22, 08:00</div></div>
            </div>
          </div>
        </div>
      </div><!-- /records -->

      <!-- â”€â”€â”€â”€ OPD / IPD â”€â”€â”€â”€ -->
      <div id="screen-opd" class="screen">
        <div class="page-header"><h2>OPD / IPD Management</h2><p>Outpatient and inpatient flow control</p></div>
        <div class="grid-2" style="margin-bottom:20px;">
          <div class="card" style="border-top:4px solid var(--accent);">
            <div class="card-title">ğŸšª Outpatient (OPD)</div>
            <div class="stat-val">34</div><div class="stat-lbl">Patients in queue today</div>
            <div style="margin-top:16px;display:flex;flex-direction:column;gap:10px;">
              <div class="appt-slot"><div class="appt-time">Token 1</div><div class="avatar" style="background:#3b82f6;">JM</div><div class="appt-info"><strong>John Martin</strong><span>General Medicine</span></div><span class="badge badge-blue">In Consult</span></div>
              <div class="appt-slot"><div class="appt-time">Token 2</div><div class="avatar" style="background:#f59e0b;">PR</div><div class="appt-info"><strong>Priya Rao</strong><span>Dermatology</span></div><span class="badge badge-yellow">Waiting</span></div>
              <div class="appt-slot"><div class="appt-time">Token 3</div><div class="avatar" style="background:#10b981;">CL</div><div class="appt-info"><strong>Chris Lane</strong><span>ENT</span></div><span class="badge badge-gray">Registered</span></div>
            </div>
          </div>
          <div class="card" style="border-top:4px solid var(--danger);">
            <div class="card-title">ğŸ›ï¸ Inpatient (IPD)</div>
            <div class="stat-val">37</div><div class="stat-lbl">Currently admitted</div>
            <div style="margin-top:16px;display:flex;flex-direction:column;gap:10px;">
              <div class="appt-slot"><div class="appt-time">B-7</div><div class="avatar" style="background:#8b5cf6;">RC</div><div class="appt-info"><strong>Robert Cole</strong><span>Cardiology Â· Day 4</span></div><span class="badge badge-blue">Stable</span></div>
              <div class="appt-slot"><div class="appt-time">ICU-3</div><div class="avatar" style="background:#ef4444;">EM</div><div class="appt-info"><strong>Emily Moore</strong><span>Cardiac Â· Day 1</span></div><span class="badge badge-red">Critical</span></div>
              <div class="appt-slot"><div class="appt-time">P-2</div><div class="avatar" style="background:#10b981;">JD</div><div class="appt-info"><strong>James Davis</strong><span>Paediatrics Â· Day 2</span></div><span class="badge badge-yellow">Observation</span></div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-title">Admission / Discharge Actions</div>
          <div class="flex gap-2 wrap">
            <button class="btn btn-primary" onclick="openModal('newPatientModal')">+ Admit New Patient</button>
            <button class="btn btn-ok">âœ“ Discharge Patient</button>
            <button class="btn btn-outline">ğŸ”„ Transfer Ward</button>
            <button class="btn btn-danger">ğŸš¨ Raise Emergency</button>
          </div>
        </div>
      </div><!-- /opd -->

      <!-- â”€â”€â”€â”€ DOCTORS â”€â”€â”€â”€ -->
      <div id="screen-doctors" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Therapists</h2><p>Physical therapy staff directory</p></div>
          <button class="btn btn-primary btn-sm" onclick="openModal('newApptModal')">+ Add Doctor</button>
        </div>
        <div class="card" style="margin-bottom:18px;">
          <div class="flex gap-2 wrap">
            <input class="input" style="max-width:280px;" placeholder="ğŸ” Search doctorâ€¦" />
            <select class="select" style="max-width:180px;"><option>All Departments</option><option>Cardiology</option><option>Neurology</option><option>Orthopaedics</option><option>Paediatrics</option></select>
            <select class="select" style="max-width:140px;"><option>All Shifts</option><option>Morning</option><option>Afternoon</option><option>Night</option></select>
          </div>
        </div>
        <div class="grid-auto">
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#3b82f6;margin:0 auto 12px;">RP</div>
            <strong>Dr. Rajiv Patel</strong><span>Cardiology</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜… 4.9</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">142</strong></div><div><span>Exp.</span><strong style="display:block;">14 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--ok);">On duty</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#8b5cf6;margin:0 auto 12px;">LC</div>
            <strong>Dr. Linda Chen</strong><span>Neurology</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜† 4.7</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">98</strong></div><div><span>Exp.</span><strong style="display:block;">9 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--ok);">On duty</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#ec4899;margin:0 auto 12px;">ML</div>
            <strong>Dr. Maria Lena</strong><span>Orthopaedics</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜… 4.8</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">76</strong></div><div><span>Exp.</span><strong style="display:block;">11 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--warn);">On leave</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#f59e0b;margin:0 auto 12px;">JS</div>
            <strong>Dr. James Smith</strong><span>Paediatrics</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜† 4.6</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">113</strong></div><div><span>Exp.</span><strong style="display:block;">7 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--ok);">On duty</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#10b981;margin:0 auto 12px;">AR</div>
            <strong>Dr. Anna Rosa</strong><span>Obstetrics</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜… 4.9</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">88</strong></div><div><span>Exp.</span><strong style="display:block;">12 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--ok);">On duty</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
          <div class="doc-card">
            <div class="avatar avatar-lg" style="background:#ef4444;margin:0 auto 12px;">KM</div>
            <strong>Dr. Karl MÃ¼ller</strong><span>Emergency</span>
            <div class="rating">â˜…â˜…â˜…â˜…â˜† 4.5</div>
            <div class="foot"><div><span>Patients</span><strong style="display:block;">204</strong></div><div><span>Exp.</span><strong style="display:block;">18 yrs</strong></div><div><span>Status</span><strong style="display:block;color:var(--ok);">On duty</strong></div></div>
            <button class="btn btn-outline btn-sm full-w" style="margin-top:12px;">View Schedule</button>
          </div>
        </div>
      </div><!-- /doctors -->

      <!-- â”€â”€â”€â”€ STAFF â”€â”€â”€â”€ -->
      <div id="screen-staff" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Manage Staff</h2><p>Administrative and clinical staff</p></div>
          <button class="btn btn-primary btn-sm">+ Add Staff</button>
        </div>
        <div class="card">
          <div class="tbl-wrap">
            <table>
              <thead><tr><th>Name</th><th>Role</th><th>Department</th><th>Shift</th><th>Phone</th><th>Status</th><th>Actions</th></tr></thead>
              <tbody>
                <tr><td><div class="flex items-center gap-2"><div class="avatar" style="background:#10b981;">AT</div><strong>Angela Turner</strong></div></td><td>Senior Nurse</td><td>General</td><td>Morning</td><td>+1 555-0101</td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                <tr><td><div class="flex items-center gap-2"><div class="avatar" style="background:#8b5cf6;">BK</div><strong>Ben Kowalski</strong></div></td><td>Nurse</td><td>ICU</td><td>Night</td><td>+1 555-0102</td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                <tr><td><div class="flex items-center gap-2"><div class="avatar" style="background:#f59e0b;">CH</div><strong>Clara Hassan</strong></div></td><td>Receptionist</td><td>Front Desk</td><td>Morning</td><td>+1 555-0103</td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                <tr><td><div class="flex items-center gap-2"><div class="avatar" style="background:#ef4444;">DM</div><strong>David Miller</strong></div></td><td>Lab Technician</td><td>Pathology</td><td>Afternoon</td><td>+1 555-0104</td><td><span class="badge badge-yellow">On leave</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                <tr><td><div class="flex items-center gap-2"><div class="avatar" style="background:#3b82f6;">FO</div><strong>Faith Okafor</strong></div></td><td>Pharmacist</td><td>Pharmacy</td><td>Morning</td><td>+1 555-0105</td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div><!-- /staff -->

      <!-- â”€â”€â”€â”€ SCHEDULE â”€â”€â”€â”€ -->
      <div id="screen-schedule" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Staff Schedules</h2><p>Weekly staff roster for w/c 22 Feb 2026</p></div>
          <button class="btn btn-primary btn-sm">+ Add Shift</button>
        </div>
        <div class="card">
          <div class="tbl-wrap">
            <table>
              <thead><tr><th>Staff</th><th>Role</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th><th>Sun</th></tr></thead>
              <tbody>
                <tr><td><strong>Dr. Patel</strong></td><td class="text-muted">Cardiology</td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-yellow">ON-CALL</span></td><td><span class="badge badge-blue">AM</span></td></tr>
                <tr><td><strong>Dr. Chen</strong></td><td class="text-muted">Neurology</td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-yellow">ON-CALL</span></td></tr>
                <tr><td><strong>Nurse Turner</strong></td><td class="text-muted">General</td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-green">PM</span></td><td><span class="badge badge-green">PM</span></td><td><span class="badge badge-blue">AM</span></td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-gray">OFF</span></td></tr>
                <tr><td><strong>Nurse Kowalski</strong></td><td class="text-muted">ICU</td><td><span class="badge badge-red">NIGHT</span></td><td><span class="badge badge-red">NIGHT</span></td><td><span class="badge badge-red">NIGHT</span></td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-gray">OFF</span></td><td><span class="badge badge-red">NIGHT</span></td><td><span class="badge badge-red">NIGHT</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div><!-- /schedule -->

      <!-- â”€â”€â”€â”€ BILLING â”€â”€â”€â”€ -->
      <div id="screen-billing" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Patient Billing</h2><p>Invoices and payment management</p></div>
          <button class="btn btn-primary btn-sm" onclick="openModal('newApptModal')">+ Generate Invoice</button>
        </div>
        <div class="stats-grid" style="margin-bottom:20px;">
          <div class="stat-card green"><div class="stat-icon">ğŸ’°</div><div class="stat-val">$128k</div><div class="stat-lbl">Monthly Revenue</div></div>
          <div class="stat-card warn"><div class="stat-icon">â³</div><div class="stat-val">$14k</div><div class="stat-lbl">Pending Payments</div></div>
          <div class="stat-card red"><div class="stat-icon">âŒ</div><div class="stat-val">$3.4k</div><div class="stat-lbl">Overdue</div></div>
          <div class="stat-card blue"><div class="stat-icon">ğŸ§¾</div><div class="stat-val">342</div><div class="stat-lbl">Total Invoices</div></div>
        </div>
        <div class="grid-2">
          <div class="card">
            <div class="card-title">Recent Invoices</div>
            <div class="tbl-wrap">
              <table>
                <thead><tr><th>Invoice</th><th>Patient</th><th>Amount</th><th>Status</th></tr></thead>
                <tbody>
                  <tr><td>#1042</td><td>Robert Cole</td><td>$3,400</td><td><span class="badge badge-red">Overdue</span></td></tr>
                  <tr><td>#1041</td><td>Sara Kim</td><td>$850</td><td><span class="badge badge-green">Paid</span></td></tr>
                  <tr><td>#1040</td><td>Emily Moore</td><td>$12,600</td><td><span class="badge badge-yellow">Partial</span></td></tr>
                  <tr><td>#1039</td><td>James Davis</td><td>$2,100</td><td><span class="badge badge-yellow">Pending</span></td></tr>
                  <tr><td>#1038</td><td>Angela Lee</td><td>$1,750</td><td><span class="badge badge-green">Paid</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card">
            <div class="card-title">Invoice #1042 â€“ Robert Cole</div>
            <div class="bill-row"><span>Consultation â€“ Dr. Patel (Ã—4)</span><span>$800</span></div>
            <div class="bill-row"><span>Room â€“ General Ward (4 nights)</span><span>$1,200</span></div>
            <div class="bill-row"><span>Lab Tests (lipid, CBC, eGFR)</span><span>$420</span></div>
            <div class="bill-row"><span>Medications (Amlodipine, Statin)</span><span>$180</span></div>
            <div class="bill-row"><span>ECG & Echo Scan</span><span>$800</span></div>
            <div style="border-top:2px solid var(--border2);margin:8px 0;"></div>
            <div class="bill-total"><span>Total</span><span>$3,400</span></div>
            <div style="margin-top:14px;display:flex;gap:8px;">
              <button class="btn btn-primary">ğŸ’³ Process Payment</button>
              <button class="btn btn-outline">ğŸ–¨ï¸ Print</button>
            </div>
          </div>
        </div>
      </div><!-- /billing -->

      <!-- â”€â”€â”€â”€ PHARMACY â”€â”€â”€â”€ -->
      <div id="screen-pharmacy" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Pharmacy</h2><p>Medication dispensing and prescriptions</p></div>
          <button class="btn btn-primary btn-sm">+ Dispense Medication</button>
        </div>
        <div class="alert alert-red"><span>ğŸš¨</span><div><strong>Low Stock:</strong> Paracetamol (12 units), Amoxicillin (8 units), Insulin Glargine (5 units) are below minimum threshold.</div></div>
        <div class="card">
          <div class="tbl-wrap">
            <table>
              <thead><tr><th>Medication</th><th>Category</th><th>Stock</th><th>Min Level</th><th>Expiry</th><th>Status</th><th>Action</th></tr></thead>
              <tbody>
                <tr><td><strong>Amlodipine 5mg</strong></td><td>Cardiovascular</td><td>340</td><td>50</td><td>Dec 2027</td><td><span class="badge badge-green">OK</span></td><td><button class="btn btn-sm btn-outline">Dispense</button></td></tr>
                <tr><td><strong>Paracetamol 500mg</strong></td><td>Analgesic</td><td>12</td><td>100</td><td>Jan 2027</td><td><span class="badge badge-red">Low Stock</span></td><td><button class="btn btn-sm btn-danger">Reorder</button></td></tr>
                <tr><td><strong>Amoxicillin 250mg</strong></td><td>Antibiotic</td><td>8</td><td>80</td><td>Mar 2026</td><td><span class="badge badge-red">Low + Expiring</span></td><td><button class="btn btn-sm btn-danger">Reorder</button></td></tr>
                <tr><td><strong>Metformin 500mg</strong></td><td>Antidiabetic</td><td>280</td><td>50</td><td>Aug 2027</td><td><span class="badge badge-green">OK</span></td><td><button class="btn btn-sm btn-outline">Dispense</button></td></tr>
                <tr><td><strong>Insulin Glargine</strong></td><td>Antidiabetic</td><td>5</td><td>20</td><td>Jul 2026</td><td><span class="badge badge-red">Low Stock</span></td><td><button class="btn btn-sm btn-danger">Reorder</button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div><!-- /pharmacy -->

      <!-- â”€â”€â”€â”€ INVENTORY â”€â”€â”€â”€ -->
      <div id="screen-inventory" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Inventory</h2><p>Medical supplies and equipment</p></div>
          <div class="flex gap-2">
            <button class="btn btn-outline btn-sm">ğŸ“¥ Export</button>
            <button class="btn btn-primary btn-sm">+ Add Item</button>
          </div>
        </div>
        <div class="grid-3" style="margin-bottom:20px;">
          <div class="stat-card warn"><div class="stat-icon">ğŸ“¦</div><div class="stat-val">3</div><div class="stat-lbl">Items Low Stock</div></div>
          <div class="stat-card blue"><div class="stat-icon">ğŸ”§</div><div class="stat-val">12</div><div class="stat-lbl">Equipment Units</div></div>
          <div class="stat-card green"><div class="stat-icon">âœ…</div><div class="stat-val">284</div><div class="stat-lbl">Items In Stock</div></div>
        </div>
        <div class="card">
          <div class="tbl-wrap">
            <table>
              <thead><tr><th>Item</th><th>Category</th><th>Qty</th><th>Unit</th><th>Location</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td><strong>Surgical Gloves (L)</strong></td><td>Consumables</td><td>1200</td><td>pairs</td><td>Store A</td><td><span class="badge badge-green">OK</span></td></tr>
                <tr><td><strong>Oxygen Cylinders</strong></td><td>Equipment</td><td>18</td><td>units</td><td>ICU Store</td><td><span class="badge badge-green">OK</span></td></tr>
                <tr><td><strong>IV Cannula 20G</strong></td><td>Consumables</td><td>35</td><td>pcs</td><td>Store B</td><td><span class="badge badge-yellow">Low</span></td></tr>
                <tr><td><strong>Blood Glucose Strips</strong></td><td>Diagnostics</td><td>9</td><td>boxes</td><td>Lab</td><td><span class="badge badge-red">Critical</span></td></tr>
                <tr><td><strong>Wheelchair</strong></td><td>Equipment</td><td>6</td><td>units</td><td>Ward C</td><td><span class="badge badge-green">OK</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div><!-- /inventory -->

      <!-- â”€â”€â”€â”€ REPORTS â”€â”€â”€â”€ -->
      <div id="screen-reports" class="screen">
        <div class="page-header flex justify-between items-center wrap gap-2">
          <div><h2>Financial Reports</h2><p>Clinic performance &amp; compliance overview</p></div>
          <div class="flex gap-2">
            <select class="select" style="max-width:140px;"><option>This Month</option><option>Last Month</option><option>This Year</option></select>
            <button class="btn btn-outline btn-sm">ğŸ“¥ Export PDF</button>
          </div>
        </div>

        <div class="stats-grid" style="margin-bottom:20px;">
          <div class="stat-card blue"><div class="stat-icon">ğŸ‘¥</div><div class="stat-val">1,284</div><div class="stat-lbl">Total Patients</div><div class="stat-delta delta-up">â†‘ 4.2%</div></div>
          <div class="stat-card green"><div class="stat-icon">ğŸ’°</div><div class="stat-val">$128k</div><div class="stat-lbl">Revenue</div><div class="stat-delta delta-up">â†‘ 8.1%</div></div>
          <div class="stat-card warn"><div class="stat-icon">â±ï¸</div><div class="stat-val">18 min</div><div class="stat-lbl">Avg Wait Time</div><div class="stat-delta delta-dn">â†‘ 3 min</div></div>
          <div class="stat-card green"><div class="stat-icon">ğŸ˜Š</div><div class="stat-val">94%</div><div class="stat-lbl">Patient Satisfaction</div><div class="stat-delta delta-up">â†‘ 2%</div></div>
        </div>

        <div class="grid-2">
          <div class="card">
            <div class="card-title">Monthly Patient Admissions</div>
            <div class="bar-chart">
              <div class="bar" style="height:60%;background:var(--accent);" title="Sep:82"></div>
              <div class="bar" style="height:70%;background:var(--accent);" title="Oct:95"></div>
              <div class="bar" style="height:55%;background:var(--accent);" title="Nov:75"></div>
              <div class="bar" style="height:85%;background:var(--accent);" title="Dec:115"></div>
              <div class="bar" style="height:65%;background:var(--accent);" title="Jan:88"></div>
              <div class="bar" style="height:90%;background:#bfdbfe;" title="Feb:121"></div>
            </div>
            <div class="bar-labels"><span>Sep</span><span>Oct</span><span>Nov</span><span>Dec</span><span>Jan</span><span>Feb</span></div>
          </div>

          <div class="card">
            <div class="card-title">Case Distribution by Department</div>
            <div class="donut-wrap">
              <svg width="110" height="110" viewBox="0 0 110 110">
                <circle cx="55" cy="55" r="40" fill="none" stroke="#e5e7eb" stroke-width="18"/>
                <circle cx="55" cy="55" r="40" fill="none" stroke="#3b82f6" stroke-width="18" stroke-dasharray="100 152" stroke-dashoffset="0"/>
                <circle cx="55" cy="55" r="40" fill="none" stroke="#10b981" stroke-width="18" stroke-dasharray="55 197" stroke-dashoffset="-100"/>
                <circle cx="55" cy="55" r="40" fill="none" stroke="#f59e0b" stroke-width="18" stroke-dasharray="37 215" stroke-dashoffset="-155"/>
                <circle cx="55" cy="55" r="40" fill="none" stroke="#8b5cf6" stroke-width="18" stroke-dasharray="28 224" stroke-dashoffset="-192"/>
                <circle cx="55" cy="55" r="40" fill="none" stroke="#ef4444" stroke-width="18" stroke-dasharray="32 220" stroke-dashoffset="-220"/>
              </svg>
              <div class="donut-center"><strong>1,284</strong><span>Total</span></div>
            </div>
            <div class="donut-legend">
              <div class="legend-item"><div class="legend-dot" style="background:#3b82f6;"></div>Cardiology 40%</div>
              <div class="legend-item"><div class="legend-dot" style="background:#10b981;"></div>General 22%</div>
              <div class="legend-item"><div class="legend-dot" style="background:#f59e0b;"></div>Ortho 15%</div>
              <div class="legend-item"><div class="legend-dot" style="background:#8b5cf6;"></div>Neuro 11%</div>
              <div class="legend-item"><div class="legend-dot" style="background:#ef4444;"></div>Emergency 12%</div>
            </div>
          </div>
        </div>
      </div><!-- /reports -->

      <!-- â”€â”€â”€â”€ SETTINGS â”€â”€â”€â”€ -->
      <div id="screen-settings" class="screen">
        <div class="page-header"><h2>Settings</h2><p>System and account configuration</p></div>
        <div class="tabs">
          <div class="tab active" onclick="switchTab(this,'stab-profile')">My Profile</div>
          <div class="tab" onclick="switchTab(this,'stab-hospital')">Clinic Info</div>
          <div class="tab" onclick="switchTab(this,'stab-roles')">Roles & Access</div>
          <div class="tab" onclick="switchTab(this,'stab-notif')">Notifications</div>
        </div>

        <div id="stab-profile" class="tab-panel">
          <div class="card" style="max-width:560px;">
            <div class="flex gap-4 items-center" style="margin-bottom:20px;">
              <div class="avatar avatar-lg">JA</div>
              <div><strong style="font-size:16px;">John Admin</strong><div class="text-muted text-sm">Super Administrator</div><button class="btn btn-outline btn-sm" style="margin-top:6px;">Change Avatar</button></div>
            </div>
            <div class="flex flex-col gap-3">
              <div class="grid-2" style="gap:12px;">
                <div class="field"><label>First Name</label><input class="input" value="John" /></div>
                <div class="field"><label>Last Name</label><input class="input" value="Admin" /></div>
              </div>
              <div class="field"><label>Email</label><input class="input" type="email" value="admin@summitptclinic.com" /></div>
              <div class="field"><label>Phone</label><input class="input" type="tel" value="+1 555-0100" /></div>
              <div class="field"><label>Role</label><input class="input" value="Super Administrator" disabled /></div>
              <div class="field"><label>New Password</label><input class="input" type="password" placeholder="Leave blank to keep current" /></div>
              <button class="btn btn-primary" style="align-self:flex-start;">Save Changes</button>
            </div>
          </div>
        </div>
        <div id="stab-hospital" class="tab-panel hidden">
          <div class="card" style="max-width:560px;">
            <div class="flex flex-col gap-3">
              <div class="field"><label>Clinic Name</label><input class="input" value="Summit PT Clinic" /></div>
              <div class="field"><label>Address</label><input class="input" value="123 Summit Ave, New York, NY 10001" /></div>
              <div class="field"><label>Phone</label><input class="input" value="+1 800-SUMMIT-PT" /></div>
              <div class="field"><label>License Number</label><input class="input" value="PT-NY-20240112" /></div>
              <div class="grid-2" style="gap:12px;">
                <div class="field"><label>Treatment Rooms</label><input class="input" type="number" value="12" /></div>
                <div class="field"><label>Max Daily Patients</label><input class="input" type="number" value="60" /></div>
              </div>
              <button class="btn btn-primary" style="align-self:flex-start;">Update Info</button>
            </div>
          </div>
        </div>
        <div id="stab-roles" class="tab-panel hidden">
          <div class="card">
            <div class="tbl-wrap">
              <table>
                <thead><tr><th>Role</th><th>Patients</th><th>Schedule</th><th>Billing</th><th>HR / Staff</th><th>Settings</th><th>Actions</th></tr></thead>
                <tbody>
                  <tr><td><strong>ğŸ›¡ï¸ Super Admin</strong></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-green">Full</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                  <tr><td><strong>ğŸ‘¥ HR Admin</strong></td><td><span class="badge badge-gray">None</span></td><td><span class="badge badge-blue">View+Edit</span></td><td><span class="badge badge-gray">None</span></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-gray">None</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                  <tr><td><strong>ğŸ‘€ Supervisor</strong></td><td><span class="badge badge-yellow">View Only</span></td><td><span class="badge badge-blue">View+Edit</span></td><td><span class="badge badge-yellow">View Only</span></td><td><span class="badge badge-yellow">View Only</span></td><td><span class="badge badge-gray">None</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                  <tr><td><strong>ğŸ“Š Manager</strong></td><td><span class="badge badge-gray">None</span></td><td><span class="badge badge-gray">None</span></td><td><span class="badge badge-green">Full</span></td><td><span class="badge badge-yellow">View Only</span></td><td><span class="badge badge-gray">None</span></td><td><button class="btn btn-sm btn-outline">Edit</button></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div id="stab-notif" class="tab-panel hidden">
          <div class="card" style="max-width:500px;">
            <div class="flex flex-col gap-3">
              <label style="display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border2);">
                <div><strong style="display:block;">Emergency Alerts</strong><span class="text-muted text-sm">ICU and critical patient alerts</span></div>
                <input type="checkbox" checked style="width:18px;height:18px;cursor:pointer;" />
              </label>
              <label style="display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border2);">
                <div><strong style="display:block;">New Appointments</strong><span class="text-muted text-sm">When a new appointment is booked</span></div>
                <input type="checkbox" checked style="width:18px;height:18px;cursor:pointer;" />
              </label>
              <label style="display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border2);">
                <div><strong style="display:block;">Invoice Overdue</strong><span class="text-muted text-sm">Billing overdue reminders</span></div>
                <input type="checkbox" checked style="width:18px;height:18px;cursor:pointer;" />
              </label>
              <label style="display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border2);">
                <div><strong style="display:block;">Pharmacy Low Stock</strong><span class="text-muted text-sm">When medication drops below minimum</span></div>
                <input type="checkbox" checked style="width:18px;height:18px;cursor:pointer;" />
              </label>
              <label style="display:flex;align-items:center;justify-content:space-between;padding:10px 0;">
                <div><strong style="display:block;">Weekly Summary Email</strong><span class="text-muted text-sm">Weekly report emailed to admin</span></div>
                <input type="checkbox" style="width:18px;height:18px;cursor:pointer;" />
              </label>
              <button class="btn btn-primary" style="align-self:flex-start;">Save Preferences</button>
            </div>
          </div>
        </div>
      </div><!-- /settings -->

    </main>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         NEW ROLE-BASED SCREENS (flowchart-accurate)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="role-content" style="display:none;flex:1;overflow-y:auto;padding:24px;">

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HR ADMIN SCREENS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

      <!-- HR Dashboard -->
      <div class="rscreen" id="rs-hr-dashboard">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">Hospital HR Admin Menu</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Select an HR action to proceed</p></div>
        </div>
        <div class="alert alert-green" style="margin-bottom:20px"><span>ğŸ‘¥</span><div><strong>HR Admin access confirmed.</strong> You can generate medical staff payroll and manage medical staff records.</div></div>
        <div class="g4" style="margin-bottom:24px">
          <div class="stat-card blue"><div class="stat-icon">ğŸ‘¨â€âš•ï¸</div><div class="stat-val">86</div><div class="stat-lbl">Total Medical Staff</div><div class="stat-delta">â†‘ 3 new this month</div></div>
          <div class="stat-card green"><div class="stat-icon">âœ…</div><div class="stat-val">74</div><div class="stat-lbl">Active Staff</div><div class="stat-delta">86% active rate</div></div>
          <div class="stat-card warn"><div class="stat-icon">ğŸ“‹</div><div class="stat-val">2</div><div class="stat-lbl">Pending Payroll Runs</div><div class="stat-delta">Cut-off approaching</div></div>
          <div class="stat-card red"><div class="stat-icon">ğŸ”´</div><div class="stat-val">5</div><div class="stat-lbl">Inactive Accounts</div><div class="stat-delta">Needs review</div></div>
        </div>
        <div class="g2">
          <div class="card" style="cursor:pointer" onclick="showRS('hr-payroll')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ’°</div>
            <div class="card-title">Generate Medical Staff Payroll</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Select cut-off date (15th or 30th), retrieve attendance data, calculate pay and generate payroll report.</p>
            <button class="btn btn-primary">Open Payroll â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('hr-staff')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ‘¥</div>
            <div class="card-title">Medical Staff Management</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">View all Doctors, Nurses and Admin Staff. Register new staff or activate/deactivate accounts.</p>
            <button class="btn btn-primary">Manage Staff â†’</button>
          </div>
        </div>
      </div>

      <!-- HR Payroll -->
      <div class="rscreen" id="rs-hr-payroll">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ’° Generate Medical Staff Payroll</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Select cut-off â†’ Retrieve attendance â†’ Calculate â†’ Generate report</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('hr-dashboard')">â† Back to Menu</button>
        </div>
        <!-- Wizard -->
        <div class="wizard-steps">
          <div class="wizard-step active" id="pwiz1" onclick="goStep(1)">1. Cut-Off Date</div>
          <div class="wizard-step" id="pwiz2" onclick="goStep(2)">2. Attendance Data</div>
          <div class="wizard-step" id="pwiz3" onclick="goStep(3)">3. Calculate Pay</div>
          <div class="wizard-step" id="pwiz4" onclick="goStep(4)">4. Generate Report</div>
        </div>

        <!-- Step 1 -->
        <div class="payroll-step active" id="pstep1">
          <div class="card" style="max-width:600px">
            <div class="card-title">Step 1 â€” Select Cut-Off Date</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:18px">Choose payroll period: <strong>15th</strong> = 1stâ€“15th &nbsp;|&nbsp; <strong>30th</strong> = 16thâ€“end of month</p>
            <div class="g2" style="max-width:440px;margin-bottom:18px">
              <div class="co-card" id="co15" onclick="pickCutoff('15th')">
                <div style="font-size:30px">ğŸ“…</div>
                <div style="font-size:18px;font-weight:700;margin:8px 0">15th Cut-Off</div>
                <div style="font-size:12px;color:var(--muted)">Period: 1st â€“ 15th</div>
              </div>
              <div class="co-card" id="co30" onclick="pickCutoff('30th')">
                <div style="font-size:30px">ğŸ“…</div>
                <div style="font-size:18px;font-weight:700;margin:8px 0">30th Cut-Off</div>
                <div style="font-size:12px;color:var(--muted)">Period: 16th â€“ 30th/31st</div>
              </div>
            </div>
            <div id="co-confirm" style="display:none" class="alert alert-blue" style="margin-bottom:0"><span>âœ…</span><div>Cut-off <strong id="co-val"></strong> selected.</div></div>
            <button class="btn btn-primary" style="margin-top:16px" onclick="goStep(2)">Next: Retrieve Attendance â†’</button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="payroll-step" id="pstep2">
          <div class="alert alert-blue" style="margin-bottom:18px"><span>ğŸ“¡</span><div>Retrieving attendance data from database for the selected cut-off periodâ€¦</div></div>
          <div class="g4" style="margin-bottom:20px">
            <div class="stat-card blue"><div class="stat-icon">â±ï¸</div><div class="stat-val">168</div><div class="stat-lbl">Attendance Hours</div></div>
            <div class="stat-card green"><div class="stat-icon">â°</div><div class="stat-val">12</div><div class="stat-lbl">Approved OT Hours</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ“</div><div class="stat-val">8</div><div class="stat-lbl">On-Call Hours</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ–ï¸</div><div class="stat-val">2</div><div class="stat-lbl">Approved Leave Days</div></div>
          </div>
          <div class="card">
            <div class="card-title">Attendance Detail</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Staff Name</th><th>Department</th><th>Reg. Hours</th><th>OT Hours</th><th>On-Call</th><th>Leave Days</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>Dr. Juan Reyes</td><td>General Medicine</td><td>168</td><td>4</td><td>2</td><td>0</td><td><span class="badge badge-green">Complete</span></td></tr>
                <tr><td>Maria Cruz</td><td>Nursing</td><td>160</td><td>8</td><td>4</td><td>1</td><td><span class="badge badge-green">Complete</span></td></tr>
                <tr><td>Rosa Santos</td><td>Admin Staff</td><td>160</td><td>0</td><td>0</td><td>2</td><td><span class="badge badge-yellow">Partial</span></td></tr>
                <tr><td>Ben Lim</td><td>Physical Therapy</td><td>168</td><td>0</td><td>2</td><td>0</td><td><span class="badge badge-green">Complete</span></td></tr>
              </tbody>
            </table></div>
            <button class="btn btn-primary" style="margin-top:16px" onclick="goStep(3)">Next: Calculate Payroll â†’</button>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="payroll-step" id="pstep3">
          <div class="card" style="max-width:560px">
            <div class="card-title">Step 3 â€” Calculate Payroll</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:16px">Select a staff member to calculate their pay breakdown.</p>
            <div class="field" style="margin-bottom:16px">
              <label>Staff Member</label>
              <select class="select" onchange="calcPay(this.value)">
                <option value="">â€” Select Staff â€”</option>
                <option value="a">Dr. Juan Reyes</option>
                <option value="b">Maria Cruz</option>
                <option value="c">Rosa Santos</option>
                <option value="d">Ben Lim</option>
              </select>
            </div>
            <div id="pay-breakdown" style="display:none">
              <div class="pay-row"><span>Regular Pay</span><span id="pr-reg">â‚±0</span></div>
              <div class="pay-row"><span>OT Pay</span><span id="pr-ot">â‚±0</span></div>
              <div class="pay-row"><span>On-Call Pay</span><span id="pr-oncall">â‚±0</span></div>
              <div class="pay-row"><span style="color:var(--danger)">Deductions (SSS/PhilHealth/Pag-IBIG)</span><span id="pr-ded" style="color:var(--danger)">âˆ’â‚±0</span></div>
              <div class="pay-row total"><span>GROSS PAY</span><span id="pr-gross" style="color:var(--ok)">â‚±0</span></div>
            </div>
            <button class="btn btn-primary" style="margin-top:16px" onclick="goStep(4)">Next: Generate Report â†’</button>
          </div>
        </div>

        <!-- Step 4 -->
        <div class="payroll-step" id="pstep4">
          <div class="alert alert-green" style="margin-bottom:18px"><span>âœ…</span><div><strong>Payroll calculated successfully.</strong> Review the report then save to database.</div></div>
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;flex-wrap:wrap;gap:10px">
              <div class="card-title" style="margin:0">Payroll Report â€” <span id="rpt-period">All Staff</span></div>
              <button class="btn btn-outline btn-sm">ğŸ–¨ï¸ Print</button>
            </div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Staff Name</th><th>Department</th><th>Regular</th><th>OT</th><th>On-Call</th><th>Deductions</th><th>Gross Pay</th></tr></thead>
              <tbody>
                <tr><td>Dr. Juan Reyes</td><td>General Medicine</td><td>â‚±25,000</td><td>â‚±2,400</td><td>â‚±800</td><td style="color:var(--danger)">âˆ’â‚±3,200</td><td><strong>â‚±25,000</strong></td></tr>
                <tr><td>Maria Cruz</td><td>Nursing</td><td>â‚±18,000</td><td>â‚±4,800</td><td>â‚±1,600</td><td style="color:var(--danger)">âˆ’â‚±2,880</td><td><strong>â‚±21,520</strong></td></tr>
                <tr><td>Rosa Santos</td><td>Admin Staff</td><td>â‚±16,000</td><td>â‚±0</td><td>â‚±0</td><td style="color:var(--danger)">âˆ’â‚±2,560</td><td><strong>â‚±13,440</strong></td></tr>
                <tr><td>Ben Lim</td><td>Physical Therapy</td><td>â‚±20,000</td><td>â‚±0</td><td>â‚±800</td><td style="color:var(--danger)">âˆ’â‚±3,200</td><td><strong>â‚±17,600</strong></td></tr>
              </tbody>
            </table></div>
            <div style="margin-top:14px;padding:14px;background:var(--bg);border-radius:8px;display:flex;justify-content:space-between;align-items:center">
              <strong>Total Gross Payroll:</strong>
              <span style="font-size:22px;font-weight:700;color:var(--ok)">â‚±77,560.00</span>
            </div>
            <div style="display:flex;gap:10px;margin-top:16px;flex-wrap:wrap">
              <button class="btn btn-ok" onclick="savePayroll()">ğŸ’¾ Save Payroll to Database</button>
              <button class="btn btn-ghost" onclick="showRS('hr-dashboard')">â†© Return to Menu</button>
            </div>
          </div>
        </div>
      </div>

      <!-- HR Staff Management -->
      <div class="rscreen" id="rs-hr-staff">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ‘¥ Medical Staff Management</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">View all medical staff â€” Doctors, Nurses, Admin Staff</p></div>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn btn-primary" onclick="openM('m-register')">â• Register New Staff</button>
            <button class="btn btn-outline btn-sm" onclick="showRS('hr-dashboard')">â† Back to Menu</button>
          </div>
        </div>

        <!-- Sub-tabs -->
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('staff-tabs','st-all',this)">All Staff (86)</div>
          <div class="tab" onclick="swtab('staff-tabs','st-doctors',this)">Doctors (24)</div>
          <div class="tab" onclick="swtab('staff-tabs','st-nurses',this)">Nurses (38)</div>
          <div class="tab" onclick="swtab('staff-tabs','st-admin',this)">Admin Staff (24)</div>
        </div>

        <div id="st-all" class="tab-panel">
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px">
            <input class="input" placeholder="ğŸ” Search staffâ€¦" style="max-width:300px"/>
            <select class="select" style="max-width:180px"><option>All Departments</option><option>General Medicine</option><option>Nursing</option><option>Physical Therapy</option><option>Admin</option></select>
            <select class="select" style="max-width:140px"><option>All Status</option><option>Active</option><option>Inactive</option></select>
          </div>
          <div class="card"><div style="overflow-x:auto"><table>
            <thead><tr><th>Staff ID</th><th>Name</th><th>Role</th><th>Department</th><th>Credentials</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>S-001</td><td>Dr. Juan Reyes</td><td>Senior Doctor</td><td>General Medicine</td><td><span class="badge badge-blue">MD, FPCP</span></td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline" onclick="openM('m-edit-staff')">Edit</button><button class="btn btn-sm btn-danger" onclick="deactivate(this)">Deactivate</button></div></td></tr>
              <tr><td>S-002</td><td>Maria Cruz</td><td>Head Nurse</td><td>Nursing</td><td><span class="badge badge-green">RN, BSN</span></td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline" onclick="openM('m-edit-staff')">Edit</button><button class="btn btn-sm btn-danger" onclick="deactivate(this)">Deactivate</button></div></td></tr>
              <tr><td>S-003</td><td>Rosa Santos</td><td>Admin Officer</td><td>Admin Staff</td><td><span class="badge badge-gray">BS Admin</span></td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline" onclick="openM('m-edit-staff')">Edit</button><button class="btn btn-sm btn-danger" onclick="deactivate(this)">Deactivate</button></div></td></tr>
              <tr><td>S-004</td><td>Ben Lim</td><td>Physical Therapist</td><td>Physical Therapy</td><td><span class="badge badge-yellow">BSPT, RPT</span></td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline" onclick="openM('m-edit-staff')">Edit</button><button class="btn btn-sm btn-danger" onclick="deactivate(this)">Deactivate</button></div></td></tr>
              <tr><td>S-005</td><td>Ana Lopez</td><td>Nurse</td><td>Nursing</td><td><span class="badge badge-green">RN</span></td><td><span class="badge badge-red">Inactive</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline" onclick="openM('m-edit-staff')">Edit</button><button class="btn btn-sm btn-ok" onclick="activate(this)">Activate</button></div></td></tr>
            </tbody>
          </table></div></div>
        </div>
        <div id="st-doctors" class="tab-panel hidden">
          <div class="card"><div class="card-title">Doctors (24)</div><div style="overflow-x:auto"><table>
            <thead><tr><th>ID</th><th>Name</th><th>Specialization</th><th>Credentials</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>S-001</td><td>Dr. Juan Reyes</td><td>General Medicine</td><td><span class="badge badge-blue">MD, FPCP</span></td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">View</button></td></tr>
              <tr><td>S-008</td><td>Dr. Lena Torres</td><td>Rehabilitation</td><td><span class="badge badge-blue">MD, FPCRM</span></td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">View</button></td></tr>
            </tbody>
          </table></div></div>
        </div>
        <div id="st-nurses" class="tab-panel hidden">
          <div class="card"><div class="card-title">Nurses (38)</div><div style="overflow-x:auto"><table>
            <thead><tr><th>ID</th><th>Name</th><th>Assignment</th><th>Credentials</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>S-002</td><td>Maria Cruz</td><td>Head Nurse â€“ Ward A</td><td><span class="badge badge-green">RN, BSN</span></td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">View</button></td></tr>
              <tr><td>S-005</td><td>Ana Lopez</td><td>Nurse â€“ ICU</td><td><span class="badge badge-green">RN</span></td><td><span class="badge badge-red">Inactive</span></td><td><button class="btn btn-sm btn-outline">View</button></td></tr>
            </tbody>
          </table></div></div>
        </div>
        <div id="st-admin" class="tab-panel hidden">
          <div class="card"><div class="card-title">Admin Staff (24)</div><div style="overflow-x:auto"><table>
            <thead><tr><th>ID</th><th>Name</th><th>Role</th><th>Department</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>S-003</td><td>Rosa Santos</td><td>Admin Officer</td><td>Admin</td><td><span class="badge badge-green">Active</span></td><td><button class="btn btn-sm btn-outline">View</button></td></tr>
            </tbody>
          </table></div></div>
        </div>
      </div>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SUPERVISOR SCREENS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

      <!-- Supervisor Dashboard -->
      <div class="rscreen" id="rs-sup-dashboard">
        <div style="margin-bottom:20px">
          <h2 style="font-size:20px;font-weight:700">Medical Supervisor Menu</h2>
          <p style="color:var(--muted);font-size:13px;margin-top:3px">Select a supervisor action</p>
        </div>
        <div class="alert" style="background:#f5f3ff;border:1px solid #ddd6fe;color:#5b21b6;margin-bottom:20px"><span>ğŸ‘ï¸</span><div><strong>Supervisor access confirmed.</strong> You can view staff attendance and review/approve medical staff requests.</div></div>
        <div class="g4" style="margin-bottom:24px">
          <div class="stat-card blue"><div class="stat-icon">ğŸ—“ï¸</div><div class="stat-val">74</div><div class="stat-lbl">Staff Present Today</div><div class="stat-delta">86% attendance rate</div></div>
          <div class="stat-card warn"><div class="stat-icon">â³</div><div class="stat-val">12</div><div class="stat-lbl">Pending Requests</div><div class="stat-delta">Needs review</div></div>
          <div class="stat-card green"><div class="stat-icon">âœ…</div><div class="stat-val">34</div><div class="stat-lbl">Approved This Month</div><div class="stat-delta">â†‘ 8 vs last month</div></div>
          <div class="stat-card red"><div class="stat-icon">âŒ</div><div class="stat-val">3</div><div class="stat-lbl">Rejected This Month</div><div class="stat-delta">All reasons logged</div></div>
        </div>
        <div class="g2">
          <div class="card" style="cursor:pointer" onclick="showRS('sup-attendance')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ—“ï¸</div>
            <div class="card-title">View Medical Staff Attendance</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Display attendance records and generate summary reports â€” Daily, Weekly, Monthly, Shift Coverage.</p>
            <button class="btn btn-primary">View Attendance â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('sup-requests')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ“¨</div>
            <div class="card-title">Review Medical Staff Requests</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Review pending leave requests, OT requests and shift changes. Approve or reject with documented reason.</p>
            <button class="btn btn-primary">Review Requests <span class="badge badge-red" style="margin-left:4px">12</span></button>
          </div>
        </div>
      </div>

      <!-- Supervisor: Attendance -->
      <div class="rscreen" id="rs-sup-attendance">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ—“ï¸ View Medical Staff Attendance</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Display attendance records and generate summary reports</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sup-dashboard')">â† Back to Menu</button>
        </div>

        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('att-tabs','at-records',this)">ğŸ“‹ Attendance Records</div>
          <div class="tab" onclick="swtab('att-tabs','at-daily',this)">Daily Report</div>
          <div class="tab" onclick="swtab('att-tabs','at-weekly',this)">Weekly Coverage</div>
          <div class="tab" onclick="swtab('att-tabs','at-monthly',this)">Monthly Report</div>
          <div class="tab" onclick="swtab('att-tabs','at-shift',this)">Shift Coverage</div>
        </div>

        <div id="at-records" class="tab-panel">
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px">
            <input class="input" type="date" style="max-width:170px" value="2026-02-22"/>
            <select class="select" style="max-width:190px"><option>All Departments</option><option>General Medicine</option><option>Nursing</option><option>Physical Therapy</option><option>Admin</option></select>
            <button class="btn btn-primary btn-sm">ğŸ” Filter</button>
          </div>
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;flex-wrap:wrap;gap:8px">
              <div class="card-title" style="margin:0">Attendance Records â€” Feb 22, 2026</div>
              <button class="btn btn-outline btn-sm">ğŸ–¨ï¸ Print</button>
            </div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Staff ID</th><th>Name</th><th>Department</th><th>Time In</th><th>Time Out</th><th>Hours</th><th>OT</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>S-001</td><td>Dr. Juan Reyes</td><td>General Medicine</td><td>07:58</td><td>17:02</td><td>9.0</td><td>1.0</td><td><span class="att-present">Present</span></td></tr>
                <tr><td>S-002</td><td>Maria Cruz</td><td>Nursing</td><td>06:55</td><td>15:00</td><td>8.0</td><td>0</td><td><span class="att-present">Present</span></td></tr>
                <tr><td>S-003</td><td>Rosa Santos</td><td>Admin Staff</td><td>08:30</td><td>17:30</td><td>9.0</td><td>1.0</td><td><span class="att-late">Late</span></td></tr>
                <tr><td>S-004</td><td>Ben Lim</td><td>Physical Therapy</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td><span class="att-leave">On Leave</span></td></tr>
                <tr><td>S-005</td><td>Ana Lopez</td><td>Nursing</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td><span class="att-absent">Absent</span></td></tr>
                <tr><td>S-006</td><td>Carlo Dela Cruz</td><td>General Medicine</td><td>08:01</td><td>16:00</td><td>8.0</td><td>0</td><td><span class="att-present">Present</span></td></tr>
              </tbody>
            </table></div>
          </div>
        </div>

        <div id="at-daily" class="tab-panel hidden">
          <div class="card"><div class="card-title">Daily Attendance Summary â€” Feb 22, 2026</div>
            <div class="g4" style="margin-bottom:18px">
              <div class="stat-card green"><div class="stat-icon">âœ…</div><div class="stat-val">68</div><div class="stat-lbl">Present</div></div>
              <div class="stat-card warn"><div class="stat-icon">ğŸ•</div><div class="stat-val">6</div><div class="stat-lbl">Late</div></div>
              <div class="stat-card red"><div class="stat-icon">âŒ</div><div class="stat-val">7</div><div class="stat-lbl">Absent</div></div>
              <div class="stat-card blue"><div class="stat-icon">ğŸ–ï¸</div><div class="stat-val">5</div><div class="stat-lbl">On Leave</div></div>
            </div>
            <button class="btn btn-outline">ğŸ–¨ï¸ Print Daily Report</button>
          </div>
        </div>

        <div id="at-weekly" class="tab-panel hidden">
          <div class="card"><div class="card-title">Weekly Coverage Report â€” Feb 16â€“22, 2026</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Day</th><th>Present</th><th>Absent</th><th>Late</th><th>On Leave</th><th>Coverage %</th></tr></thead>
              <tbody>
                <tr><td>Monday, Feb 16</td><td>72</td><td>6</td><td>4</td><td>4</td><td><span class="badge badge-green">83.7%</span></td></tr>
                <tr><td>Tuesday, Feb 17</td><td>74</td><td>5</td><td>3</td><td>4</td><td><span class="badge badge-green">86.0%</span></td></tr>
                <tr><td>Wednesday, Feb 18</td><td>70</td><td>8</td><td>5</td><td>3</td><td><span class="badge badge-yellow">81.4%</span></td></tr>
                <tr><td>Thursday, Feb 19</td><td>75</td><td>4</td><td>4</td><td>3</td><td><span class="badge badge-green">87.2%</span></td></tr>
                <tr><td>Friday, Feb 20</td><td>68</td><td>9</td><td>6</td><td>3</td><td><span class="badge badge-yellow">79.1%</span></td></tr>
                <tr><td>Saturday, Feb 21</td><td>40</td><td>3</td><td>2</td><td>1</td><td><span class="badge badge-green">86.9%</span></td></tr>
                <tr><td>Sunday, Feb 22</td><td>68</td><td>7</td><td>6</td><td>5</td><td><span class="badge badge-yellow">79.1%</span></td></tr>
              </tbody>
            </table></div>
            <button class="btn btn-outline" style="margin-top:14px">ğŸ–¨ï¸ Print Weekly Report</button>
          </div>
        </div>

        <div id="at-monthly" class="tab-panel hidden">
          <div class="card"><div class="card-title">Monthly Attendance Report â€” February 2026</div>
            <div class="g4" style="margin-bottom:18px">
              <div class="stat-card green"><div class="stat-icon">ğŸ“Š</div><div class="stat-val">84.6%</div><div class="stat-lbl">Avg Attendance Rate</div></div>
              <div class="stat-card blue"><div class="stat-icon">â±ï¸</div><div class="stat-val">3,248</div><div class="stat-lbl">Total Man-Hours</div></div>
              <div class="stat-card warn"><div class="stat-icon">â°</div><div class="stat-val">126</div><div class="stat-lbl">Total OT Hours</div></div>
              <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ–ï¸</div><div class="stat-val">48</div><div class="stat-lbl">Leave Days Availed</div></div>
            </div>
            <button class="btn btn-ok">ğŸ“¥ Download Monthly Report</button>
          </div>
        </div>

        <div id="at-shift" class="tab-panel hidden">
          <div class="card"><div class="card-title">Shift Coverage Report</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Shift</th><th>Time</th><th>Required</th><th>Actual</th><th>Coverage</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>Morning Shift A</td><td>06:00â€“14:00</td><td>30</td><td>28</td><td>93.3%</td><td><span class="badge badge-green">OK</span></td></tr>
                <tr><td>Morning Shift B</td><td>07:00â€“15:00</td><td>20</td><td>18</td><td>90.0%</td><td><span class="badge badge-green">OK</span></td></tr>
                <tr><td>Afternoon Shift</td><td>14:00â€“22:00</td><td>25</td><td>22</td><td>88.0%</td><td><span class="badge badge-yellow">Low</span></td></tr>
                <tr><td>Night Shift</td><td>22:00â€“06:00</td><td>15</td><td>11</td><td>73.3%</td><td><span class="badge badge-red">Critical</span></td></tr>
              </tbody>
            </table></div>
            <button class="btn btn-outline" style="margin-top:14px">ğŸ–¨ï¸ Print Shift Report</button>
          </div>
        </div>
      </div>

      <!-- Supervisor: Requests -->
      <div class="rscreen" id="rs-sup-requests">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ“¨ Review Medical Staff Requests</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">View pending requests â€” approve or reject with reason</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sup-dashboard')">â† Back to Menu</button>
        </div>

        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('req-tabs','rt-leave',this)">Leave Requests <span class="badge badge-red" style="margin-left:4px">5</span></div>
          <div class="tab" onclick="swtab('req-tabs','rt-ot',this)">OT Requests <span class="badge badge-yellow" style="margin-left:4px">4</span></div>
          <div class="tab" onclick="swtab('req-tabs','rt-shift',this)">Shift Changes <span class="badge badge-blue" style="margin-left:4px">3</span></div>
          <div class="tab" onclick="swtab('req-tabs','rt-history',this)">History</div>
        </div>

        <div id="rt-leave" class="tab-panel">
          <div class="req-item" id="ri-l1">
            <div class="avatar" style="background:#3b82f6;width:38px;height:38px;font-size:12px;flex-shrink:0">MC</div>
            <div class="req-body">
              <div class="req-name">Maria Cruz &nbsp;<span class="badge badge-blue">Leave Request</span></div>
              <div class="req-meta">Sick Leave &nbsp;|&nbsp; Feb 25â€“27, 2026 (3 days) &nbsp;|&nbsp; Submitted: Feb 22, 2026</div>
              <div class="req-meta" style="margin-top:3px">Reason: Medical consultation and recovery</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-l1','Maria Cruz','Leave')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-l1','Maria Cruz')">âŒ Reject</button>
            </div>
          </div>
          <div class="req-item" id="ri-l2">
            <div class="avatar" style="background:#7c3aed;width:38px;height:38px;font-size:12px;flex-shrink:0">RS</div>
            <div class="req-body">
              <div class="req-name">Rosa Santos &nbsp;<span class="badge badge-blue">Leave Request</span></div>
              <div class="req-meta">Vacation Leave &nbsp;|&nbsp; Mar 3â€“5, 2026 (3 days) &nbsp;|&nbsp; Submitted: Feb 20, 2026</div>
              <div class="req-meta" style="margin-top:3px">Reason: Family vacation</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-l2','Rosa Santos','Leave')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-l2','Rosa Santos')">âŒ Reject</button>
            </div>
          </div>
          <div class="req-item" id="ri-l3">
            <div class="avatar" style="background:#f59e0b;width:38px;height:38px;font-size:12px;flex-shrink:0">BL</div>
            <div class="req-body">
              <div class="req-name">Ben Lim &nbsp;<span class="badge badge-blue">Leave Request</span></div>
              <div class="req-meta">Emergency Leave &nbsp;|&nbsp; Feb 23, 2026 (1 day) &nbsp;|&nbsp; Submitted: Feb 22, 2026</div>
              <div class="req-meta" style="margin-top:3px">Reason: Family emergency</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-l3','Ben Lim','Leave')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-l3','Ben Lim')">âŒ Reject</button>
            </div>
          </div>
        </div>

        <div id="rt-ot" class="tab-panel hidden">
          <div class="req-item" id="ri-o1">
            <div class="avatar" style="background:#3b82f6;width:38px;height:38px;font-size:12px;flex-shrink:0">JR</div>
            <div class="req-body">
              <div class="req-name">Dr. Juan Reyes &nbsp;<span class="badge badge-yellow">OT Request</span></div>
              <div class="req-meta">Feb 22, 2026 &nbsp;|&nbsp; 4 OT hours (18:00â€“22:00) &nbsp;|&nbsp; Emergency coverage</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-o1','Dr. Juan Reyes','OT')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-o1','Dr. Juan Reyes')">âŒ Reject</button>
            </div>
          </div>
          <div class="req-item" id="ri-o2">
            <div class="avatar" style="background:#10b981;width:38px;height:38px;font-size:12px;flex-shrink:0">MC</div>
            <div class="req-body">
              <div class="req-name">Maria Cruz &nbsp;<span class="badge badge-yellow">OT Request</span></div>
              <div class="req-meta">Feb 23, 2026 &nbsp;|&nbsp; 3 OT hours (15:00â€“18:00) &nbsp;|&nbsp; Short-staffed shift</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-o2','Maria Cruz','OT')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-o2','Maria Cruz')">âŒ Reject</button>
            </div>
          </div>
        </div>

        <div id="rt-shift" class="tab-panel hidden">
          <div class="req-item" id="ri-s1">
            <div class="avatar" style="background:#ea580c;width:38px;height:38px;font-size:12px;flex-shrink:0">CD</div>
            <div class="req-body">
              <div class="req-name">Carlo Dela Cruz &nbsp;<span class="badge badge-purple">Shift Change</span></div>
              <div class="req-meta">From: Morning Shift (Feb 24) â†’ Afternoon Shift (Feb 24)</div>
              <div class="req-meta" style="margin-top:3px">Reason: Personal appointment</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="approveReq('ri-s1','Carlo Dela Cruz','Shift Change')">âœ… Approve</button>
              <button class="btn btn-danger btn-sm" onclick="openReject('ri-s1','Carlo Dela Cruz')">âŒ Reject</button>
            </div>
          </div>
        </div>

        <div id="rt-history" class="tab-panel hidden">
          <div class="card"><div class="card-title">Decision History</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Staff</th><th>Type</th><th>Date</th><th>Decision</th><th>Decided By</th><th>Date Decided</th></tr></thead>
              <tbody id="req-hist-body">
                <tr><td>Ana Lopez</td><td>Leave</td><td>Feb 10â€“12</td><td><span class="badge badge-green">Approved</span></td><td>Supervisor</td><td>Feb 8</td></tr>
                <tr><td>Ben Lim</td><td>OT</td><td>Feb 5</td><td><span class="badge badge-red">Rejected</span></td><td>Supervisor</td><td>Feb 4</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MANAGER (coming soon)
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MANAGER SCREENS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

      <!-- Manager Dashboard -->
      <div class="rscreen" id="rs-mgr-dashboard">
        <div style="margin-bottom:20px"><h2 style="font-size:20px;font-weight:700">ğŸ“Š Clinic Manager Menu</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Select a manager action to proceed</p></div>
        <div class="alert" style="background:#fffbeb;border:1px solid #fde68a;color:#92400e;margin-bottom:20px"><span>ğŸ“Š</span><div><strong>Manager access confirmed.</strong> You can view staff attendance reports, review medical summaries, and approve or return clinical reports.</div></div>
        <div class="g4" style="margin-bottom:24px">
          <div class="stat-card blue"><div class="stat-icon">ğŸ¥</div><div class="stat-val">142</div><div class="stat-lbl">Patients Today</div><div class="stat-delta">â†‘ 12 vs yesterday</div></div>
          <div class="stat-card warn"><div class="stat-icon">ğŸ“</div><div class="stat-val">7</div><div class="stat-lbl">Reports Pending Review</div><div class="stat-delta">Needs approval</div></div>
          <div class="stat-card green"><div class="stat-icon">ğŸ¢</div><div class="stat-val">6</div><div class="stat-lbl">Departments Active</div><div class="stat-delta">All operational</div></div>
          <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ‘¨â€âš•ï¸</div><div class="stat-val">74</div><div class="stat-lbl">Staff On Duty</div><div class="stat-delta">86% attendance</div></div>
        </div>
        <div class="g3">
          <div class="card" style="cursor:pointer" onclick="showRS('mgr-attendance')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ—“ï¸</div>
            <div class="card-title">View Staff Attendance</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Display attendance by department. Generate department coverage and shift distribution reports.</p>
            <button class="btn btn-primary">View Attendance â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('mgr-summaries')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ“‹</div>
            <div class="card-title">View Medical Summaries</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Review patient statistics, staff performance metrics and resource usage across all departments.</p>
            <button class="btn btn-primary">View Summaries â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('mgr-reports')">
            <div style="font-size:36px;margin-bottom:10px">ğŸ“</div>
            <div class="card-title">Review Medical Reports</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:14px">Review pending patient, clinical and operational reports. Approve with digital signature or return for revision.</p>
            <button class="btn btn-primary">Review Reports <span class="badge badge-red" style="margin-left:4px">7</span></button>
          </div>
        </div>
      </div>

      <!-- Manager: View Staff Attendance -->
      <div class="rscreen" id="rs-mgr-attendance">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ—“ï¸ View Staff Attendance</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Display attendance by department â€” generate coverage and utilization reports</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('mgr-dashboard')">â† Back to Menu</button>
        </div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('mgr-att-tabs','ma-dept',this)">ğŸ“‹ Attendance by Department</div>
          <div class="tab" onclick="swtab('mgr-att-tabs','ma-coverage',this)">ğŸ“Š Department Coverage Reports</div>
        </div>

        <div id="ma-dept" class="tab-panel">
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px">
            <select class="select" style="max-width:200px" id="mgr-dept-filter" onchange="filterMgrDept(this.value)">
              <option value="">All Departments</option>
              <option>General Medicine</option><option>Nursing</option><option>Physical Therapy</option><option>ICU</option><option>Emergency</option><option>Admin</option>
            </select>
            <input class="input" type="date" style="max-width:170px" value="2026-02-22"/>
            <button class="btn btn-primary btn-sm">ğŸ” Filter</button>
            <button class="btn btn-outline btn-sm">ğŸ–¨ï¸ Print</button>
          </div>
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card green"><div class="stat-icon">âœ…</div><div class="stat-val">68</div><div class="stat-lbl">Present</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ•</div><div class="stat-val">6</div><div class="stat-lbl">Late</div></div>
            <div class="stat-card red"><div class="stat-icon">âŒ</div><div class="stat-val">7</div><div class="stat-lbl">Absent</div></div>
            <div class="stat-card blue"><div class="stat-icon">ğŸ–ï¸</div><div class="stat-val">5</div><div class="stat-lbl">On Leave</div></div>
          </div>
          <div class="card"><div style="overflow-x:auto"><table>
            <thead><tr><th>Department</th><th>Total Staff</th><th>Present</th><th>Late</th><th>Absent</th><th>On Leave</th><th>Attendance %</th></tr></thead>
            <tbody>
              <tr><td><strong>General Medicine</strong></td><td>18</td><td>15</td><td>2</td><td>1</td><td>0</td><td><span class="badge badge-green">83.3%</span></td></tr>
              <tr><td><strong>Nursing</strong></td><td>28</td><td>24</td><td>2</td><td>1</td><td>1</td><td><span class="badge badge-green">85.7%</span></td></tr>
              <tr><td><strong>Physical Therapy</strong></td><td>12</td><td>10</td><td>1</td><td>1</td><td>0</td><td><span class="badge badge-green">83.3%</span></td></tr>
              <tr><td><strong>ICU</strong></td><td>10</td><td>9</td><td>0</td><td>1</td><td>0</td><td><span class="badge badge-green">90.0%</span></td></tr>
              <tr><td><strong>Emergency</strong></td><td>8</td><td>7</td><td>1</td><td>0</td><td>0</td><td><span class="badge badge-green">87.5%</span></td></tr>
              <tr><td><strong>Admin</strong></td><td>10</td><td>3</td><td>0</td><td>3</td><td>4</td><td><span class="badge badge-yellow">30.0%</span></td></tr>
            </tbody>
          </table></div></div>
        </div>

        <div id="ma-coverage" class="tab-panel hidden">
          <div class="g2" style="margin-bottom:18px">
            <div class="card">
              <div class="card-title">Staff Utilization Rate</div>
              <div style="overflow-x:auto"><table>
                <thead><tr><th>Department</th><th>Required</th><th>Deployed</th><th>Utilization</th><th>Status</th></tr></thead>
                <tbody>
                  <tr><td>General Medicine</td><td>16</td><td>15</td><td>93.8%</td><td><span class="badge badge-green">OK</span></td></tr>
                  <tr><td>Nursing</td><td>25</td><td>24</td><td>96.0%</td><td><span class="badge badge-green">OK</span></td></tr>
                  <tr><td>Physical Therapy</td><td>10</td><td>10</td><td>100%</td><td><span class="badge badge-green">Full</span></td></tr>
                  <tr><td>ICU</td><td>10</td><td>9</td><td>90.0%</td><td><span class="badge badge-green">OK</span></td></tr>
                  <tr><td>Emergency</td><td>10</td><td>7</td><td>70.0%</td><td><span class="badge badge-yellow">Low</span></td></tr>
                  <tr><td>Admin</td><td>8</td><td>3</td><td>37.5%</td><td><span class="badge badge-red">Critical</span></td></tr>
                </tbody>
              </table></div>
            </div>
            <div class="card">
              <div class="card-title">Shift Distribution</div>
              <div style="overflow-x:auto"><table>
                <thead><tr><th>Shift</th><th>Time</th><th>Assigned</th><th>Present</th><th>Coverage</th></tr></thead>
                <tbody>
                  <tr><td>Morning A</td><td>06:00â€“14:00</td><td>30</td><td>28</td><td><span class="badge badge-green">93.3%</span></td></tr>
                  <tr><td>Morning B</td><td>07:00â€“15:00</td><td>20</td><td>19</td><td><span class="badge badge-green">95.0%</span></td></tr>
                  <tr><td>Afternoon</td><td>14:00â€“22:00</td><td>25</td><td>18</td><td><span class="badge badge-yellow">72.0%</span></td></tr>
                  <tr><td>Night</td><td>22:00â€“06:00</td><td>11</td><td>3</td><td><span class="badge badge-red">27.3%</span></td></tr>
                </tbody>
              </table></div>
              <button class="btn btn-outline btn-sm" style="margin-top:12px">ğŸ–¨ï¸ Print Shift Report</button>
            </div>
          </div>
          <button class="btn btn-ok">ğŸ“¥ Download Coverage Report</button>
        </div>
      </div>

      <!-- Manager: View Medical Summaries -->
      <div class="rscreen" id="rs-mgr-summaries">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ“‹ View Medical Summaries</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Patient statistics Â· Staff performance Â· Resource usage</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('mgr-dashboard')">â† Back to Menu</button>
        </div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('mgr-sum-tabs','ms-patients',this)">ğŸ¥ Patient Statistics</div>
          <div class="tab" onclick="swtab('mgr-sum-tabs','ms-staff',this)">ğŸ‘¨â€âš•ï¸ Staff Performance</div>
          <div class="tab" onclick="swtab('mgr-sum-tabs','ms-resources',this)">ğŸ“¦ Resource Usage</div>
        </div>

        <div id="ms-patients" class="tab-panel">
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card blue"><div class="stat-icon">ğŸ¥</div><div class="stat-val">142</div><div class="stat-lbl">Total Patients Today</div><div class="stat-delta">â†‘ 12 vs yesterday</div></div>
            <div class="stat-card green"><div class="stat-icon">ğŸ›ï¸</div><div class="stat-val">86</div><div class="stat-lbl">Inpatients</div><div class="stat-delta">72% bed occupancy</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸš¶</div><div class="stat-val">56</div><div class="stat-lbl">Outpatients</div><div class="stat-delta">Normal volume</div></div>
            <div class="stat-card red"><div class="stat-icon">ğŸš‘</div><div class="stat-val">12</div><div class="stat-lbl">Emergency Cases</div><div class="stat-delta">â†‘ 3 this hour</div></div>
          </div>
          <div class="card">
            <div class="card-title">Patients by Department</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Department</th><th>Inpatients</th><th>Outpatients</th><th>Emergency</th><th>Discharged Today</th><th>Avg. Stay</th></tr></thead>
              <tbody>
                <tr><td>General Medicine</td><td>28</td><td>18</td><td>4</td><td>6</td><td>3.2 days</td></tr>
                <tr><td>Physical Therapy</td><td>14</td><td>22</td><td>0</td><td>4</td><td>5.8 days</td></tr>
                <tr><td>ICU</td><td>8</td><td>0</td><td>5</td><td>1</td><td>7.1 days</td></tr>
                <tr><td>Emergency</td><td>0</td><td>0</td><td>3</td><td>9</td><td>0.4 days</td></tr>
                <tr><td>Admin / Other</td><td>36</td><td>16</td><td>0</td><td>8</td><td>2.1 days</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>

        <div id="ms-staff" class="tab-panel hidden">
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card green"><div class="stat-icon">â­</div><div class="stat-val">4.7</div><div class="stat-lbl">Avg. Patient Rating</div><div class="stat-delta">â†‘ 0.2 vs last month</div></div>
            <div class="stat-card blue"><div class="stat-icon">â±ï¸</div><div class="stat-val">3,248</div><div class="stat-lbl">Total Man-Hours (Feb)</div><div class="stat-delta">On track</div></div>
            <div class="stat-card warn"><div class="stat-icon">â°</div><div class="stat-val">126</div><div class="stat-lbl">OT Hours This Month</div><div class="stat-delta">â†‘ 18% vs last</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ“</div><div class="stat-val">12</div><div class="stat-lbl">Training Completions</div><div class="stat-delta">This month</div></div>
          </div>
          <div class="card">
            <div class="card-title">Staff Performance by Department</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Department</th><th>Avg. Rating</th><th>OT Hours</th><th>Late Incidents</th><th>Cases Handled</th><th>Performance</th></tr></thead>
              <tbody>
                <tr><td>General Medicine</td><td>4.8</td><td>32</td><td>4</td><td>46</td><td><span class="badge badge-green">Excellent</span></td></tr>
                <tr><td>Physical Therapy</td><td>4.9</td><td>18</td><td>1</td><td>36</td><td><span class="badge badge-green">Excellent</span></td></tr>
                <tr><td>Nursing</td><td>4.6</td><td>48</td><td>6</td><td>86</td><td><span class="badge badge-green">Good</span></td></tr>
                <tr><td>ICU</td><td>4.7</td><td>22</td><td>2</td><td>13</td><td><span class="badge badge-green">Good</span></td></tr>
                <tr><td>Emergency</td><td>4.5</td><td>6</td><td>3</td><td>12</td><td><span class="badge badge-yellow">Average</span></td></tr>
              </tbody>
            </table></div>
          </div>
        </div>

        <div id="ms-resources" class="tab-panel hidden">
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card green"><div class="stat-icon">ğŸ›ï¸</div><div class="stat-val">72%</div><div class="stat-lbl">Bed Occupancy</div><div class="stat-delta">86 / 120 beds</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ’Š</div><div class="stat-val">18</div><div class="stat-lbl">Low Stock Meds</div><div class="stat-delta">Reorder needed</div></div>
            <div class="stat-card blue"><div class="stat-icon">ğŸ”¬</div><div class="stat-val">94%</div><div class="stat-lbl">Equipment Uptime</div><div class="stat-delta">3 units in service</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ’°</div><div class="stat-val">â‚±1.2M</div><div class="stat-lbl">Monthly Supplies Cost</div><div class="stat-delta">â†“ 4% vs last</div></div>
          </div>
          <div class="card">
            <div class="card-title">Department Resource Usage</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Department</th><th>Beds Used / Total</th><th>Med Usage %</th><th>Equipment Status</th><th>Supply Budget Used</th></tr></thead>
              <tbody>
                <tr><td>General Medicine</td><td>28 / 40</td><td>71%</td><td><span class="badge badge-green">All OK</span></td><td>68%</td></tr>
                <tr><td>ICU</td><td>8 / 10</td><td>88%</td><td><span class="badge badge-yellow">1 in Repair</span></td><td>92%</td></tr>
                <tr><td>Emergency</td><td>â€” / 12</td><td>76%</td><td><span class="badge badge-green">All OK</span></td><td>55%</td></tr>
                <tr><td>Physical Therapy</td><td>14 / 20</td><td>44%</td><td><span class="badge badge-yellow">2 in Service</span></td><td>47%</td></tr>
                <tr><td>Admin / Other</td><td>36 / 38</td><td>32%</td><td><span class="badge badge-green">All OK</span></td><td>38%</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

      <!-- Manager: Review Medical Reports -->
      <div class="rscreen" id="rs-mgr-reports">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ“ Review Medical Reports</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Pending reports â€” approve with digital signature or return for revision</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('mgr-dashboard')">â† Back to Menu</button>
        </div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('mgr-rep-tabs','mr-patient',this)">Patient Reports <span class="badge badge-red" style="margin-left:4px">3</span></div>
          <div class="tab" onclick="swtab('mgr-rep-tabs','mr-clinical',this)">Clinical Reports <span class="badge badge-yellow" style="margin-left:4px">2</span></div>
          <div class="tab" onclick="swtab('mgr-rep-tabs','mr-operational',this)">Operational Reports <span class="badge badge-blue" style="margin-left:4px">2</span></div>
          <div class="tab" onclick="swtab('mgr-rep-tabs','mr-approved',this)">Approved</div>
        </div>

        <div id="mr-patient" class="tab-panel">
          <div class="req-item" id="rpt-p1">
            <div style="font-size:30px;flex-shrink:0">ğŸ“„</div>
            <div class="req-body">
              <div class="req-name">Patient Discharge Summary â€” Feb 20, 2026 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Dr. Juan Reyes &nbsp;|&nbsp; Dept: General Medicine &nbsp;|&nbsp; 14 patients Â· 8 pages</div>
              <div class="req-meta" style="margin-top:3px">Covers all discharges from Feb 16â€“20. Includes diagnosis codes, treatment summary and follow-up instructions.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-p1','Patient Discharge Summary')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-p1','Patient Discharge Summary')">â†© Return</button>
            </div>
          </div>
          <div class="req-item" id="rpt-p2">
            <div style="font-size:30px;flex-shrink:0">ğŸ“„</div>
            <div class="req-body">
              <div class="req-name">Weekly OPD Patient Report â€” Feb 15â€“21 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Maria Cruz &nbsp;|&nbsp; Dept: Nursing &nbsp;|&nbsp; 56 patients Â· 5 pages</div>
              <div class="req-meta" style="margin-top:3px">Outpatient visit count, chief complaints, and nursing interventions.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-p2','Weekly OPD Patient Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-p2','Weekly OPD Patient Report')">â†© Return</button>
            </div>
          </div>
          <div class="req-item" id="rpt-p3">
            <div style="font-size:30px;flex-shrink:0">ğŸ“„</div>
            <div class="req-body">
              <div class="req-name">ICU Patient Status Report â€” Feb 22, 2026 &nbsp;<span class="badge badge-red">Urgent</span></div>
              <div class="req-meta">Submitted by: ICU Head Nurse &nbsp;|&nbsp; Dept: ICU &nbsp;|&nbsp; 8 patients Â· 3 pages</div>
              <div class="req-meta" style="margin-top:3px">Critical patient status updates, medication changes and physician orders.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-p3','ICU Patient Status Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-p3','ICU Patient Status Report')">â†© Return</button>
            </div>
          </div>
        </div>

        <div id="mr-clinical" class="tab-panel hidden">
          <div class="req-item" id="rpt-c1">
            <div style="font-size:30px;flex-shrink:0">ğŸ”¬</div>
            <div class="req-body">
              <div class="req-name">Monthly Clinical Outcomes Report â€” January 2026 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Dr. Lena Torres &nbsp;|&nbsp; Dept: Rehabilitation &nbsp;|&nbsp; 12 pages</div>
              <div class="req-meta" style="margin-top:3px">Recovery rates, treatment effectiveness, complication rates and clinical KPIs.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-c1','Monthly Clinical Outcomes Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-c1','Monthly Clinical Outcomes Report')">â†© Return</button>
            </div>
          </div>
          <div class="req-item" id="rpt-c2">
            <div style="font-size:30px;flex-shrink:0">ğŸ”¬</div>
            <div class="req-body">
              <div class="req-name">Infection Control Report â€” Q4 2025 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Infection Control Officer &nbsp;|&nbsp; 8 pages</div>
              <div class="req-meta" style="margin-top:3px">HAI rates, sterilization compliance, PPE usage and preventive measures.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-c2','Infection Control Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-c2','Infection Control Report')">â†© Return</button>
            </div>
          </div>
        </div>

        <div id="mr-operational" class="tab-panel hidden">
          <div class="req-item" id="rpt-o1">
            <div style="font-size:30px;flex-shrink:0">âš™ï¸</div>
            <div class="req-body">
              <div class="req-name">Equipment Maintenance Report â€” February 2026 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Facilities Officer &nbsp;|&nbsp; 6 pages</div>
              <div class="req-meta" style="margin-top:3px">Equipment status, scheduled maintenance, repair logs and uptime statistics.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-o1','Equipment Maintenance Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-o1','Equipment Maintenance Report')">â†© Return</button>
            </div>
          </div>
          <div class="req-item" id="rpt-o2">
            <div style="font-size:30px;flex-shrink:0">âš™ï¸</div>
            <div class="req-body">
              <div class="req-name">Supplies Inventory Report â€” Feb 1â€“22, 2026 &nbsp;<span class="badge badge-yellow">Pending Review</span></div>
              <div class="req-meta">Submitted by: Supply Officer &nbsp;|&nbsp; 4 pages</div>
              <div class="req-meta" style="margin-top:3px">Inventory levels, consumption rates, low stock items and reorder recommendations.</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openApproveRpt('rpt-o2','Supplies Inventory Report')">âœ… Approve</button>
              <button class="btn btn-outline btn-sm" onclick="openReturnRpt('rpt-o2','Supplies Inventory Report')">â†© Return</button>
            </div>
          </div>
        </div>

        <div id="mr-approved" class="tab-panel hidden">
          <div class="card"><div class="card-title">Approved Reports</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Report Title</th><th>Type</th><th>Submitted By</th><th>Approved</th><th>Date</th></tr></thead>
              <tbody id="mgr-approved-body">
                <tr><td>Monthly Staffing Summary â€” Jan 2026</td><td>Operational</td><td>HR Admin</td><td><span class="badge badge-green">âœ… Approved</span></td><td>Feb 10</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SUPER ADMIN SCREENS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

      <!-- Super Admin Dashboard -->
      <div class="rscreen" id="rs-sa-dashboard">
        <div style="margin-bottom:20px"><h2 style="font-size:20px;font-weight:700">ğŸ›¡ï¸ Hospital Super Admin Menu</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Select a super admin action</p></div>
        <div class="alert alert-blue" style="margin-bottom:20px"><span>ğŸ›¡ï¸</span><div><strong>Super Admin access confirmed.</strong> You have full system control â€” hospital data, reports, system management, and all approvals.</div></div>
        <div class="g4" style="margin-bottom:24px">
          <div class="stat-card blue"><div class="stat-icon">ğŸ¥</div><div class="stat-val">142</div><div class="stat-lbl">Total Patients Today</div><div class="stat-delta">â†‘ 12 vs yesterday</div></div>
          <div class="stat-card green"><div class="stat-icon">ğŸ‘¥</div><div class="stat-val">86</div><div class="stat-lbl">Total Medical Staff</div><div class="stat-delta">74 on duty today</div></div>
          <div class="stat-card warn"><div class="stat-icon">â³</div><div class="stat-val">15</div><div class="stat-lbl">Pending Requests</div><div class="stat-delta">Needs review</div></div>
          <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ“</div><div class="stat-val">8</div><div class="stat-lbl">Reports Pending Final Approval</div><div class="stat-delta">Awaiting signature</div></div>
        </div>
        <div class="g3" style="margin-bottom:16px">
          <div class="card" style="cursor:pointer" onclick="showRS('sa-hospital-data')">
            <div style="font-size:32px;margin-bottom:8px">ğŸ¥</div>
            <div class="card-title">View All Hospital Data</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:12px">Patient records, staff data, financial data, system logs â€” complete hospital dashboard.</p>
            <button class="btn btn-primary">View Data â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('sa-reports')">
            <div style="font-size:32px;margin-bottom:8px">ğŸ“Š</div>
            <div class="card-title">Generate Hospital Reports</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:12px">Financial reports, clinical statistics, staffing analysis, performance metrics.</p>
            <button class="btn btn-primary">Generate Reports â†’</button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('sa-system')">
            <div style="font-size:32px;margin-bottom:8px">âš™ï¸</div>
            <div class="card-title">Manage Hospital System</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:12px">Full control: all users, settings, permissions, system configuration and audit logs.</p>
            <button class="btn btn-primary">System Control â†’</button>
          </div>
        </div>
        <div class="g2">
          <div class="card" style="cursor:pointer" onclick="showRS('sa-requests')">
            <div style="font-size:32px;margin-bottom:8px">âœ…</div>
            <div class="card-title">Review All Pending Requests</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:12px">Leave requests, OT requests, report approvals, system change requests â€” all roles.</p>
            <button class="btn btn-primary">Review Requests <span class="badge badge-red" style="margin-left:4px">15</span></button>
          </div>
          <div class="card" style="cursor:pointer" onclick="showRS('sa-pending-reports')">
            <div style="font-size:32px;margin-bottom:8px">ğŸ“</div>
            <div class="card-title">Review All Pending Reports</div>
            <p style="color:var(--muted);font-size:13px;margin-bottom:12px">Medical reports, financial reports, audit reports â€” final sign-off with digital signature.</p>
            <button class="btn btn-primary">Review Reports <span class="badge badge-red" style="margin-left:4px">8</span></button>
          </div>
        </div>
      </div>

      <!-- SA: View Complete Hospital Data -->
      <div class="rscreen" id="rs-sa-hospital-data">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ¥ Complete Hospital Dashboard</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Analytics Â· Trends Â· Alerts â€” all hospital data</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sa-dashboard')">â† Back to Menu</button>
        </div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('sa-data-tabs','sd-overview',this)">ğŸ“Š Overview</div>
          <div class="tab" onclick="swtab('sa-data-tabs','sd-staff',this)">ğŸ‘¥ Staff Data</div>
          <div class="tab" onclick="swtab('sa-data-tabs','sd-financial',this)">ğŸ’° Financial Data</div>
          <div class="tab" onclick="swtab('sa-data-tabs','sd-logs',this)">ğŸ” System Logs</div>
        </div>

        <div id="sd-overview" class="tab-panel">
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card blue"><div class="stat-icon">ğŸ¥</div><div class="stat-val">142</div><div class="stat-lbl">Patients Today</div><div class="stat-delta">â†‘ 12 vs yesterday</div></div>
            <div class="stat-card green"><div class="stat-icon">ğŸ‘¨â€âš•ï¸</div><div class="stat-val">86</div><div class="stat-lbl">Total Staff</div><div class="stat-delta">74 on duty</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ›ï¸</div><div class="stat-val">72%</div><div class="stat-lbl">Bed Occupancy</div><div class="stat-delta">86 / 120 beds</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ’°</div><div class="stat-val">â‚±2.8M</div><div class="stat-lbl">Monthly Revenue</div><div class="stat-delta">â†‘ 8% vs last</div></div>
          </div>
          <div class="g2" style="margin-bottom:16px">
            <div class="card">
              <div class="card-title">ğŸ“ˆ Patient Trends (Feb 2026)</div>
              <div style="overflow-x:auto"><table>
                <thead><tr><th>Week</th><th>Inpatients</th><th>Outpatients</th><th>Emergency</th><th>Discharged</th></tr></thead>
                <tbody>
                  <tr><td>Feb 1â€“7</td><td>82</td><td>218</td><td>34</td><td>76</td></tr>
                  <tr><td>Feb 8â€“14</td><td>88</td><td>234</td><td>41</td><td>84</td></tr>
                  <tr><td>Feb 15â€“21</td><td>86</td><td>246</td><td>38</td><td>82</td></tr>
                  <tr><td>Feb 22 (today)</td><td>86</td><td>56</td><td>12</td><td>14</td></tr>
                </tbody>
              </table></div>
            </div>
            <div class="card">
              <div class="card-title">ğŸš¨ Active Alerts</div>
              <div class="req-item" style="padding:10px 0;border:none;flex-direction:column;align-items:flex-start;gap:8px">
                <div style="background:#fef2f2;border:1px solid #fecaca;border-radius:8px;padding:10px 14px;width:100%;font-size:13px"><strong style="color:#dc2626">âš  Critical:</strong> Night Shift coverage at 27.3% â€” Emergency dept understaffed</div>
                <div style="background:#fffbeb;border:1px solid #fde68a;border-radius:8px;padding:10px 14px;width:100%;font-size:13px"><strong style="color:#d97706">âš  Warning:</strong> 18 medications at low stock â€” reorder required</div>
                <div style="background:#eff6ff;border:1px solid #bfdbfe;border-radius:8px;padding:10px 14px;width:100%;font-size:13px"><strong style="color:#1d4ed8">â„¹ Info:</strong> 2 equipment units scheduled for maintenance Feb 24</div>
              </div>
            </div>
          </div>
        </div>

        <div id="sd-staff" class="tab-panel hidden">
          <div class="g4" style="margin-bottom:16px">
            <div class="stat-card blue"><div class="stat-icon">ğŸ‘¨â€âš•ï¸</div><div class="stat-val">24</div><div class="stat-lbl">Total Doctors</div></div>
            <div class="stat-card green"><div class="stat-icon">ğŸ‘©â€âš•ï¸</div><div class="stat-val">38</div><div class="stat-lbl">Total Nurses</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ§‘â€ğŸ’¼</div><div class="stat-val">24</div><div class="stat-lbl">Admin Staff</div></div>
            <div class="stat-card red"><div class="stat-icon">ğŸ”´</div><div class="stat-val">5</div><div class="stat-lbl">Inactive Accounts</div></div>
          </div>
          <div class="card"><div class="card-title">All Staff Overview</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Dept</th><th>Doctors</th><th>Nurses</th><th>Admin</th><th>Active</th><th>On Leave</th><th>Inactive</th></tr></thead>
              <tbody>
                <tr><td>General Medicine</td><td>8</td><td>12</td><td>2</td><td>18</td><td>2</td><td>0</td></tr>
                <tr><td>Nursing</td><td>0</td><td>18</td><td>2</td><td>18</td><td>1</td><td>1</td></tr>
                <tr><td>Physical Therapy</td><td>4</td><td>4</td><td>2</td><td>9</td><td>1</td><td>0</td></tr>
                <tr><td>ICU</td><td>6</td><td>4</td><td>0</td><td>10</td><td>0</td><td>0</td></tr>
                <tr><td>Admin Staff</td><td>0</td><td>0</td><td>18</td><td>14</td><td>0</td><td>4</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>

        <div id="sd-financial" class="tab-panel hidden">
          <div class="g4" style="margin-bottom:16px">
            <div class="stat-card green"><div class="stat-icon">ğŸ’°</div><div class="stat-val">â‚±2.8M</div><div class="stat-lbl">Monthly Revenue</div><div class="stat-delta">â†‘ 8%</div></div>
            <div class="stat-card blue"><div class="stat-icon">ğŸ’³</div><div class="stat-val">â‚±1.9M</div><div class="stat-lbl">Monthly Expenses</div><div class="stat-delta">â†“ 2%</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ“Š</div><div class="stat-val">â‚±0.9M</div><div class="stat-lbl">Net Income</div><div class="stat-delta">â†‘ 32% margin</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ’Š</div><div class="stat-val">â‚±1.2M</div><div class="stat-lbl">Supplies Cost</div><div class="stat-delta">â†“ 4%</div></div>
          </div>
          <div class="card"><div class="card-title">Financial Breakdown â€” February 2026</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Category</th><th>Revenue</th><th>Expenses</th><th>Net</th></tr></thead>
              <tbody>
                <tr><td>Inpatient Services</td><td>â‚±1,420,000</td><td>â‚±860,000</td><td style="color:var(--ok)"><strong>â‚±560,000</strong></td></tr>
                <tr><td>Outpatient / OPD</td><td>â‚±680,000</td><td>â‚±320,000</td><td style="color:var(--ok)"><strong>â‚±360,000</strong></td></tr>
                <tr><td>Emergency Services</td><td>â‚±420,000</td><td>â‚±310,000</td><td style="color:var(--ok)"><strong>â‚±110,000</strong></td></tr>
                <tr><td>Pharmacy</td><td>â‚±280,000</td><td>â‚±220,000</td><td style="color:var(--ok)"><strong>â‚±60,000</strong></td></tr>
                <tr><td>HR / Payroll</td><td>â€”</td><td>â‚±77,560</td><td style="color:var(--danger)"><strong>âˆ’â‚±77,560</strong></td></tr>
              </tbody>
            </table></div>
          </div>
        </div>

        <div id="sd-logs" class="tab-panel hidden">
          <div class="card"><div class="card-title">System Activity Logs</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Timestamp</th><th>User</th><th>Role</th><th>Action</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>2026-02-22 08:14</td><td>hradmin@summit.ph</td><td>HR Admin</td><td>Generated payroll â€” 15th cut-off</td><td><span class="badge badge-green">Success</span></td></tr>
                <tr><td>2026-02-22 08:02</td><td>supervisor@summit.ph</td><td>Supervisor</td><td>Approved leave request â€” Maria Cruz</td><td><span class="badge badge-green">Success</span></td></tr>
                <tr><td>2026-02-22 07:58</td><td>manager@summit.ph</td><td>Manager</td><td>Approved report â€” Patient Discharge Summary</td><td><span class="badge badge-green">Success</span></td></tr>
                <tr><td>2026-02-21 17:30</td><td>hradmin@summit.ph</td><td>HR Admin</td><td>Registered new staff â€” S-087 Dr. Cara Tan</td><td><span class="badge badge-green">Success</span></td></tr>
                <tr><td>2026-02-21 16:12</td><td>superadmin@summit.ph</td><td>Super Admin</td><td>Modified user permissions â€” Manager level</td><td><span class="badge badge-green">Success</span></td></tr>
                <tr><td>2026-02-21 09:44</td><td>supervisor@summit.ph</td><td>Supervisor</td><td>Rejected OT request â€” Ben Lim (no coverage)</td><td><span class="badge badge-yellow">Logged</span></td></tr>
              </tbody>
            </table></div>
            <button class="btn btn-outline btn-sm" style="margin-top:12px">ğŸ“¥ Export Full Logs</button>
          </div>
        </div>
      </div>

      <!-- SA: Generate Comprehensive Reports -->
      <div class="rscreen" id="rs-sa-reports">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ“Š Generate Comprehensive Reports</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Calculate & compile hospital-wide reports</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sa-dashboard')">â† Back to Menu</button>
        </div>
        <div class="card" style="max-width:600px;margin-bottom:20px">
          <div class="card-title">Report Configuration</div>
          <div class="g2" style="gap:12px">
            <div class="field"><label>Report Type</label>
              <select class="select" id="sa-rpt-type">
                <option>Financial Report</option><option>Clinical Statistics</option><option>Staffing Analysis</option><option>Performance Metrics</option><option>Full Hospital Report</option>
              </select>
            </div>
            <div class="field"><label>Period</label>
              <select class="select" id="sa-rpt-period">
                <option>February 2026</option><option>January 2026</option><option>Q4 2025</option><option>Q3 2025</option><option>FY 2025</option>
              </select>
            </div>
          </div>
          <div class="g2" style="gap:12px;margin-top:4px">
            <div class="field"><label>Department</label>
              <select class="select"><option>All Departments</option><option>General Medicine</option><option>Nursing</option><option>Physical Therapy</option><option>ICU</option><option>Emergency</option></select>
            </div>
            <div class="field"><label>Format</label>
              <select class="select"><option>On-Screen Display</option><option>PDF Export</option><option>Excel Export</option></select>
            </div>
          </div>
          <button class="btn btn-primary" style="margin-top:14px" onclick="genSAReport()">âš™ï¸ Calculate &amp; Compile Report</button>
        </div>

        <div id="sa-rpt-result" style="display:none">
          <div class="alert alert-green" style="margin-bottom:16px"><span>âœ…</span><div><strong>Report generated successfully.</strong> Displaying results below.</div></div>
          <div class="g4" style="margin-bottom:18px">
            <div class="stat-card green"><div class="stat-icon">ğŸ’°</div><div class="stat-val">â‚±2.8M</div><div class="stat-lbl">Total Revenue</div><div class="stat-delta">â†‘ 8% vs Jan</div></div>
            <div class="stat-card blue"><div class="stat-icon">ğŸ’³</div><div class="stat-val">â‚±1.9M</div><div class="stat-lbl">Total Expenses</div><div class="stat-delta">â†“ 2% vs Jan</div></div>
            <div class="stat-card warn"><div class="stat-icon">ğŸ“ˆ</div><div class="stat-val">32%</div><div class="stat-lbl">Net Margin</div><div class="stat-delta">â†‘ Healthy</div></div>
            <div class="stat-card" style="border-color:var(--border2)"><div class="stat-icon">ğŸ¥</div><div class="stat-val">3,714</div><div class="stat-lbl">Total Patient Visits</div><div class="stat-delta">Feb 1â€“22</div></div>
          </div>
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;flex-wrap:wrap;gap:8px">
              <div class="card-title" style="margin:0">Full Hospital Report â€” February 2026</div>
              <div style="display:flex;gap:8px"><button class="btn btn-outline btn-sm">ğŸ“¥ Export PDF</button><button class="btn btn-outline btn-sm">ğŸ“Š Export Excel</button></div>
            </div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Category</th><th>Metric</th><th>Feb 2026</th><th>Jan 2026</th><th>Change</th></tr></thead>
              <tbody>
                <tr><td>Financial</td><td>Total Revenue</td><td>â‚±2,800,000</td><td>â‚±2,592,000</td><td style="color:var(--ok)">â†‘ 8.0%</td></tr>
                <tr><td>Financial</td><td>Total Expenses</td><td>â‚±1,900,000</td><td>â‚±1,938,000</td><td style="color:var(--ok)">â†“ 2.0%</td></tr>
                <tr><td>Clinical</td><td>Total Patient Visits</td><td>3,714</td><td>3,482</td><td style="color:var(--ok)">â†‘ 6.7%</td></tr>
                <tr><td>Clinical</td><td>Avg. Bed Occupancy</td><td>72%</td><td>68%</td><td style="color:var(--ok)">â†‘ 4pp</td></tr>
                <tr><td>Staffing</td><td>Avg. Attendance Rate</td><td>84.6%</td><td>82.1%</td><td style="color:var(--ok)">â†‘ 2.5pp</td></tr>
                <tr><td>Staffing</td><td>Total OT Hours</td><td>126</td><td>107</td><td style="color:var(--danger)">â†‘ 17.8%</td></tr>
                <tr><td>Performance</td><td>Avg. Patient Rating</td><td>4.7</td><td>4.5</td><td style="color:var(--ok)">â†‘ 0.2</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

      <!-- SA: Manage Hospital System -->
      <div class="rscreen" id="rs-sa-system">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">âš™ï¸ Manage Hospital System</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Full system control panel â€” users, settings, permissions, configuration</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sa-dashboard')">â† Back to Menu</button>
        </div>
        <div class="alert alert-blue" style="margin-bottom:18px"><span>ğŸ”</span><div>All system changes are logged in the audit trail. Actions here affect all users and departments.</div></div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('sa-sys-tabs','ss-users',this)">ğŸ‘¥ All Users</div>
          <div class="tab" onclick="swtab('sa-sys-tabs','ss-permissions',this)">ğŸ”’ Permissions</div>
          <div class="tab" onclick="swtab('sa-sys-tabs','ss-settings',this)">âš™ï¸ Settings</div>
          <div class="tab" onclick="swtab('sa-sys-tabs','ss-config',this)">ğŸ› ï¸ System Config</div>
        </div>

        <div id="ss-users" class="tab-panel">
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px">
            <input class="input" placeholder="ğŸ” Search usersâ€¦" style="max-width:260px"/>
            <select class="select" style="max-width:160px"><option>All Roles</option><option>HR Admin</option><option>Supervisor</option><option>Manager</option><option>Super Admin</option></select>
            <button class="btn btn-primary btn-sm">â• Create User</button>
          </div>
          <div class="card"><div style="overflow-x:auto"><table>
            <thead><tr><th>Employee ID</th><th>Name</th><th>Role</th><th>Email</th><th>Last Login</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>ADM-001</td><td>Juan Reyes</td><td><span class="badge badge-green">HR Admin</span></td><td>hradmin@summit.ph</td><td>Feb 22, 08:14</td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline">Edit</button><button class="btn btn-sm btn-danger">Disable</button></div></td></tr>
              <tr><td>ADM-002</td><td>Maria Cruz</td><td><span class="badge badge-purple">Supervisor</span></td><td>supervisor@summit.ph</td><td>Feb 22, 07:55</td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline">Edit</button><button class="btn btn-sm btn-danger">Disable</button></div></td></tr>
              <tr><td>ADM-003</td><td>Rosa Santos</td><td><span class="badge badge-yellow">Manager</span></td><td>manager@summit.ph</td><td>Feb 22, 08:30</td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline">Edit</button><button class="btn btn-sm btn-danger">Disable</button></div></td></tr>
              <tr><td>ADM-004</td><td>Ben Lim</td><td><span class="badge badge-blue">Super Admin</span></td><td>superadmin@summit.ph</td><td>Feb 22, 09:01</td><td><span class="badge badge-green">Active</span></td><td><div style="display:flex;gap:6px"><button class="btn btn-sm btn-outline">Edit</button><button class="btn btn-sm btn-danger">Disable</button></div></td></tr>
            </tbody>
          </table></div></div>
        </div>

        <div id="ss-permissions" class="tab-panel hidden">
          <div class="card"><div class="card-title">Role Permission Matrix</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Permission</th><th>HR Admin</th><th>Supervisor</th><th>Manager</th><th>Super Admin</th></tr></thead>
              <tbody>
                <tr><td>Generate Payroll</td><td>âœ…</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>Manage Staff Accounts</td><td>âœ…</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>View Staff Attendance</td><td>â€”</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
                <tr><td>Approve Staff Requests</td><td>â€”</td><td>âœ…</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>View Medical Summaries</td><td>â€”</td><td>â€”</td><td>âœ…</td><td>âœ…</td></tr>
                <tr><td>Approve Medical Reports</td><td>â€”</td><td>â€”</td><td>âœ…</td><td>âœ…</td></tr>
                <tr><td>View All Hospital Data</td><td>â€”</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>Generate Hospital Reports</td><td>â€”</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>Manage System</td><td>â€”</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
                <tr><td>Approve All Requests</td><td>â€”</td><td>â€”</td><td>â€”</td><td>âœ…</td></tr>
              </tbody>
            </table></div>
            <button class="btn btn-primary btn-sm" style="margin-top:14px" onclick="showToast('âœ… Permission changes saved')">ğŸ’¾ Save Changes</button>
          </div>
        </div>

        <div id="ss-settings" class="tab-panel hidden">
          <div class="card" style="max-width:560px">
            <div class="card-title">General Settings</div>
            <div class="field"><label>Hospital Name</label><input class="input" value="SUMMIT PT CLINIC"/></div>
            <div class="field"><label>System Timezone</label><select class="select"><option>Asia/Manila (UTC+8)</option><option>UTC</option></select></div>
            <div class="field"><label>Payroll Cut-Off Dates</label><input class="input" value="15th and 30th of each month"/></div>
            <div class="field"><label>Session Timeout (minutes)</label><input class="input" type="number" value="30"/></div>
            <div class="field"><label>Email Notifications</label>
              <select class="select"><option>Enabled â€” All Events</option><option>Enabled â€” Critical Only</option><option>Disabled</option></select>
            </div>
            <button class="btn btn-primary" style="margin-top:6px" onclick="showToast('âœ… Settings saved')">ğŸ’¾ Save Settings</button>
          </div>
        </div>

        <div id="ss-config" class="tab-panel hidden">
          <div class="g2">
            <div class="card">
              <div class="card-title">System Information</div>
              <table style="width:100%;font-size:13px">
                <tr><td style="color:var(--muted);padding:6px 0">Version</td><td><strong>v2.4.1</strong></td></tr>
                <tr><td style="color:var(--muted);padding:6px 0">Database</td><td><span class="badge badge-green">Connected</span></td></tr>
                <tr><td style="color:var(--muted);padding:6px 0">Last Backup</td><td>Feb 22, 2026 â€” 02:00 AM</td></tr>
                <tr><td style="color:var(--muted);padding:6px 0">Uptime</td><td>99.8% (last 30 days)</td></tr>
                <tr><td style="color:var(--muted);padding:6px 0">Active Sessions</td><td>4</td></tr>
              </table>
            </div>
            <div class="card">
              <div class="card-title">System Actions</div>
              <div style="display:flex;flex-direction:column;gap:10px">
                <button class="btn btn-outline" onclick="showToast('ğŸ”„ Database backup initiated')">ğŸ—„ï¸ Backup Database Now</button>
                <button class="btn btn-outline" onclick="showToast('ğŸ”„ System audit log exported')">ğŸ“¥ Export Audit Logs</button>
                <button class="btn btn-outline" onclick="showToast('ğŸ”„ Cache cleared')">ğŸ§¹ Clear System Cache</button>
                <button class="btn btn-danger" onclick="showToast('âš ï¸ Maintenance mode requires confirmation')">ğŸš§ Enable Maintenance Mode</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- SA: Review All Pending Requests -->
      <div class="rscreen" id="rs-sa-requests">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">âœ… Review All Pending Requests</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">All system requests â€” all roles &amp; departments</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sa-dashboard')">â† Back to Menu</button>
        </div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('sa-req-tabs','sar-leave',this)">Leave <span class="badge badge-red" style="margin-left:4px">5</span></div>
          <div class="tab" onclick="swtab('sa-req-tabs','sar-ot',this)">OT <span class="badge badge-yellow" style="margin-left:4px">4</span></div>
          <div class="tab" onclick="swtab('sa-req-tabs','sar-rptapproval',this)">Report Approvals <span class="badge badge-blue" style="margin-left:4px">4</span></div>
          <div class="tab" onclick="swtab('sa-req-tabs','sar-syschanges',this)">System Changes <span class="badge badge-purple" style="margin-left:4px">2</span></div>
          <div class="tab" onclick="swtab('sa-req-tabs','sar-history',this)">History</div>
        </div>

        <div id="sar-leave" class="tab-panel">
          <div class="req-item" id="sa-l1">
            <div class="avatar" style="background:#3b82f6;width:38px;height:38px;font-size:12px;flex-shrink:0">MC</div>
            <div class="req-body"><div class="req-name">Maria Cruz &nbsp;<span class="badge badge-blue">Leave</span></div><div class="req-meta">Sick Leave Â· Feb 25â€“27 (3 days) Â· Dept: Nursing</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-l1','Maria Cruz','Leave')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-l1','Maria Cruz')">âŒ</button>
            </div>
          </div>
          <div class="req-item" id="sa-l2">
            <div class="avatar" style="background:#7c3aed;width:38px;height:38px;font-size:12px;flex-shrink:0">RS</div>
            <div class="req-body"><div class="req-name">Rosa Santos &nbsp;<span class="badge badge-blue">Leave</span></div><div class="req-meta">Vacation Â· Mar 3â€“5 (3 days) Â· Dept: Admin</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-l2','Rosa Santos','Leave')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-l2','Rosa Santos')">âŒ</button>
            </div>
          </div>
          <div class="req-item" id="sa-l3">
            <div class="avatar" style="background:#f59e0b;width:38px;height:38px;font-size:12px;flex-shrink:0">BL</div>
            <div class="req-body"><div class="req-name">Ben Lim &nbsp;<span class="badge badge-blue">Leave</span></div><div class="req-meta">Emergency Leave Â· Feb 23 (1 day) Â· Dept: Physical Therapy</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-l3','Ben Lim','Leave')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-l3','Ben Lim')">âŒ</button>
            </div>
          </div>
        </div>

        <div id="sar-ot" class="tab-panel hidden">
          <div class="req-item" id="sa-o1">
            <div class="avatar" style="background:#1d4ed8;width:38px;height:38px;font-size:12px;flex-shrink:0">JR</div>
            <div class="req-body"><div class="req-name">Dr. Juan Reyes &nbsp;<span class="badge badge-yellow">OT</span></div><div class="req-meta">4 OT hours Â· Feb 22 17:00â€“22:00 Â· Dept: General Medicine</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-o1','Dr. Juan Reyes','OT')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-o1','Dr. Juan Reyes')">âŒ</button>
            </div>
          </div>
          <div class="req-item" id="sa-o2">
            <div class="avatar" style="background:#10b981;width:38px;height:38px;font-size:12px;flex-shrink:0">MC</div>
            <div class="req-body"><div class="req-name">Maria Cruz &nbsp;<span class="badge badge-yellow">OT</span></div><div class="req-meta">3 OT hours Â· Feb 23 15:00â€“18:00 Â· Dept: Nursing</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-o2','Maria Cruz','OT')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-o2','Maria Cruz')">âŒ</button>
            </div>
          </div>
        </div>

        <div id="sar-rptapproval" class="tab-panel hidden">
          <div class="req-item" id="sa-r1">
            <div style="font-size:28px;flex-shrink:0">ğŸ“„</div>
            <div class="req-body"><div class="req-name">Patient Discharge Summary â€” Feb 20 &nbsp;<span class="badge badge-yellow">Pending</span></div><div class="req-meta">Submitted by: Dr. Juan Reyes Â· General Medicine</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-r1','Discharge Summary','Report Approval')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-r1','Discharge Summary')">âŒ</button>
            </div>
          </div>
          <div class="req-item" id="sa-r2">
            <div style="font-size:28px;flex-shrink:0">ğŸ“„</div>
            <div class="req-body"><div class="req-name">Monthly Clinical Outcomes â€” Jan 2026 &nbsp;<span class="badge badge-yellow">Pending</span></div><div class="req-meta">Submitted by: Dr. Lena Torres Â· Rehabilitation</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-r2','Clinical Outcomes Report','Report Approval')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-r2','Clinical Outcomes Report')">âŒ</button>
            </div>
          </div>
        </div>

        <div id="sar-syschanges" class="tab-panel hidden">
          <div class="req-item" id="sa-sc1">
            <div style="font-size:28px;flex-shrink:0">âš™ï¸</div>
            <div class="req-body"><div class="req-name">Permission Change Request &nbsp;<span class="badge badge-purple">System</span></div><div class="req-meta">Requested by: HR Admin Â· Add payroll edit access for Supervisor role</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-sc1','Permission Change','System Change')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-sc1','Permission Change')">âŒ</button>
            </div>
          </div>
          <div class="req-item" id="sa-sc2">
            <div style="font-size:28px;flex-shrink:0">âš™ï¸</div>
            <div class="req-body"><div class="req-name">New User Account Request &nbsp;<span class="badge badge-purple">System</span></div><div class="req-meta">Requested by: HR Admin Â· New HR Admin user for Dr. Cara Tan</div></div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="saApproveReq('sa-sc2','New User Account','System Change')">âœ…</button>
              <button class="btn btn-danger btn-sm" onclick="openSAReject('sa-sc2','New User Account')">âŒ</button>
            </div>
          </div>
        </div>

        <div id="sar-history" class="tab-panel hidden">
          <div class="card"><div class="card-title">All Decisions â€” History</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Item</th><th>Type</th><th>Requestor</th><th>Decision</th><th>Date</th></tr></thead>
              <tbody id="sa-req-hist-body">
                <tr><td>Ana Lopez Leave</td><td>Leave</td><td>Supervisor</td><td><span class="badge badge-green">Approved</span></td><td>Feb 8</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

      <!-- SA: Review All Pending Reports (Final Approval) -->
      <div class="rscreen" id="rs-sa-pending-reports">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:20px">
          <div><h2 style="font-size:20px;font-weight:700">ğŸ“ Review All Pending Reports</h2><p style="color:var(--muted);font-size:13px;margin-top:3px">Final approval â€” digital signature + archive</p></div>
          <button class="btn btn-outline btn-sm" onclick="showRS('sa-dashboard')">â† Back to Menu</button>
        </div>
        <div class="alert alert-blue" style="margin-bottom:18px"><span>âœï¸</span><div>Your digital signature constitutes the <strong>final approval</strong>. Approved reports are archived in the hospital database and submitters are notified.</div></div>
        <div style="display:flex;gap:0;border-bottom:2px solid var(--border2);margin-bottom:18px;overflow-x:auto">
          <div class="tab active" onclick="swtab('sa-rpt-tabs','spr-medical',this)">Medical Reports <span class="badge badge-red" style="margin-left:4px">4</span></div>
          <div class="tab" onclick="swtab('sa-rpt-tabs','spr-financial',this)">Financial Reports <span class="badge badge-yellow" style="margin-left:4px">2</span></div>
          <div class="tab" onclick="swtab('sa-rpt-tabs','spr-audit',this)">Audit Reports <span class="badge badge-blue" style="margin-left:4px">2</span></div>
          <div class="tab" onclick="swtab('sa-rpt-tabs','spr-archived',this)">Archived</div>
        </div>

        <div id="spr-medical" class="tab-panel">
          <div class="req-item" id="sa-rpt-m1">
            <div style="font-size:30px;flex-shrink:0">ğŸ“‹</div>
            <div class="req-body">
              <div class="req-name">Patient Discharge Summary â€” Feb 20 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Submitted: Dr. Juan Reyes Â· Manager Pre-Approved: âœ… Feb 22, 2026</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-m1','Patient Discharge Summary')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
          <div class="req-item" id="sa-rpt-m2">
            <div style="font-size:30px;flex-shrink:0">ğŸ“‹</div>
            <div class="req-body">
              <div class="req-name">ICU Patient Status Report â€” Feb 22 &nbsp;<span class="badge badge-red">Urgent</span></div>
              <div class="req-meta">Submitted: ICU Head Nurse Â· Awaiting Manager review</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-m2','ICU Patient Status Report')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
          <div class="req-item" id="sa-rpt-m3">
            <div style="font-size:30px;flex-shrink:0">ğŸ“‹</div>
            <div class="req-body">
              <div class="req-name">Monthly Clinical Outcomes â€” Jan 2026 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Submitted: Dr. Lena Torres Â· Manager Pre-Approved: âœ… Feb 18, 2026</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-m3','Monthly Clinical Outcomes')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
        </div>

        <div id="spr-financial" class="tab-panel hidden">
          <div class="req-item" id="sa-rpt-f1">
            <div style="font-size:30px;flex-shrink:0">ğŸ’°</div>
            <div class="req-body">
              <div class="req-name">Monthly Financial Summary â€” January 2026 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Submitted: Finance Officer Â· Covers all revenue, expenses, and net income for Jan 2026</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-f1','Monthly Financial Summary')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
          <div class="req-item" id="sa-rpt-f2">
            <div style="font-size:30px;flex-shrink:0">ğŸ’°</div>
            <div class="req-body">
              <div class="req-name">Payroll Report â€” 30th Cut-Off Feb 2026 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Submitted: HR Admin Â· Total gross payroll â‚±77,560</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-f2','Payroll Report Feb 30th')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
        </div>

        <div id="spr-audit" class="tab-panel hidden">
          <div class="req-item" id="sa-rpt-a1">
            <div style="font-size:30px;flex-shrink:0">ğŸ”</div>
            <div class="req-body">
              <div class="req-name">Infection Control Audit â€” Q4 2025 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Submitted: Infection Control Officer Â· HAI rates, PPE compliance, sterilization data</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-a1','Infection Control Audit Q4')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
          <div class="req-item" id="sa-rpt-a2">
            <div style="font-size:30px;flex-shrink:0">ğŸ”</div>
            <div class="req-body">
              <div class="req-name">System Access Audit Log â€” February 2026 &nbsp;<span class="badge badge-yellow">Pending Final Approval</span></div>
              <div class="req-meta">Auto-generated by System Â· All user logins, actions, and changes for Feb 2026</div>
            </div>
            <div class="req-actions">
              <button class="btn btn-ok btn-sm" onclick="openFinalApprove('sa-rpt-a2','System Access Audit Log')">âœï¸ Sign &amp; Approve</button>
            </div>
          </div>
        </div>

        <div id="spr-archived" class="tab-panel hidden">
          <div class="card"><div class="card-title">Archived Reports (Final Approved)</div>
            <div style="overflow-x:auto"><table>
              <thead><tr><th>Report</th><th>Type</th><th>Signed By</th><th>Date Archived</th></tr></thead>
              <tbody id="sa-archive-body">
                <tr><td>Monthly Staffing Summary â€” Jan 2026</td><td>Operational</td><td>Super Admin</td><td>Feb 10, 2026</td></tr>
              </tbody>
            </table></div>
          </div>
        </div>
      </div>

    </div><!-- /role-content -->

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NEW ROLE MODALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- Register Staff Modal -->
<div class="modal-overlay2" id="m-register">
  <div class="modal2">
    <div class="modal2-title">â• Register New Medical Staff</div>
    <div class="alert alert-blue" style="margin-bottom:16px;font-size:12px"><span>â„¹ï¸</span><div>All entries are logged. Staff will receive login credentials via email.</div></div>
    <div class="grid-2" style="gap:12px">
      <div class="field"><label>First Name *</label><input class="input" id="reg-fn" placeholder="First name"/></div>
      <div class="field"><label>Last Name *</label><input class="input" id="reg-ln" placeholder="Last name"/></div>
    </div>
    <div class="grid-2" style="gap:12px">
      <div class="field"><label>Employee ID *</label><input class="input" id="reg-id" placeholder="e.g. S-086"/></div>
      <div class="field"><label>Date of Birth</label><input class="input" type="date" id="reg-dob"/></div>
    </div>
    <div class="grid-2" style="gap:12px">
      <div class="field"><label>Credentials</label><input class="input" id="reg-cred" placeholder="e.g. MD, FPCP"/></div>
      <div class="field"><label>Department *</label>
        <select class="select" id="reg-dept"><option>General Medicine</option><option>Nursing</option><option>Physical Therapy</option><option>Admin</option><option>ICU</option><option>Emergency</option></select>
      </div>
    </div>
    <div class="grid-2" style="gap:12px">
      <div class="field"><label>Role *</label>
        <select class="select" id="reg-role"><option>Senior Doctor</option><option>Doctor</option><option>Head Nurse</option><option>Nurse</option><option>Physical Therapist</option><option>Admin Officer</option></select>
      </div>
      <div class="field"><label>Status</label>
        <select class="select" id="reg-status"><option>Active</option><option>Inactive</option></select>
      </div>
    </div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-register')">Cancel</button>
      <button class="btn btn-primary" onclick="registerStaff()">âœ… Register Staff</button>
    </div>
  </div>
</div>

<!-- Edit/Status Modal -->
<div class="modal-overlay2" id="m-edit-staff">
  <div class="modal2">
    <div class="modal2-title">âœï¸ Edit Staff &amp; Update Status</div>
    <div class="alert" style="background:#fef9c3;border:1px solid #fde047;color:#78350f;font-size:12px;margin-bottom:16px"><span>ğŸ“‹</span><div>This action will be logged in the audit trail. Staff will be notified of any status changes.</div></div>
    <div class="field"><label>Staff Name</label><input class="input" value="S-001 â€” Dr. Juan Reyes" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Account Status</label>
      <select class="select" id="edit-status"><option>Active</option><option>Inactive</option></select>
    </div>
    <div class="field"><label>Reason / Note *</label>
      <textarea class="input" id="edit-reason" rows="3" placeholder="Reason for status change (required for deactivation)â€¦" style="resize:vertical"></textarea>
    </div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-edit-staff')">Cancel</button>
      <button class="btn btn-primary" onclick="saveStatus()">Update Status &amp; Log Change</button>
    </div>
  </div>
</div>

<!-- Reject Request Modal -->
<div class="modal-overlay2" id="m-reject">
  <div class="modal2">
    <div class="modal2-title">âŒ Reject Request</div>
    <div class="alert" style="background:#fef2f2;border:1px solid #fca5a5;color:#991b1b;font-size:12px;margin-bottom:16px"><span>ğŸ“¢</span><div>Staff will be notified with your rejection reason.</div></div>
    <div class="field"><label>Staff Member</label><input class="input" id="reject-staff-name" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Rejection Reason *</label>
      <textarea class="input" id="reject-reason" rows="4" placeholder="Provide a clear reason for rejectionâ€¦" style="resize:vertical"></textarea>
    </div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-reject')">Cancel</button>
      <button class="btn btn-danger" onclick="confirmReject()">Reject &amp; Notify Staff</button>
    </div>
  </div>
</div>

<!-- Toast2 -->
<div id="toast2"></div>

<!-- Approve Report Modal (Manager) -->
<div class="modal-overlay2" id="m-approve-rpt">
  <div class="modal2">
    <div class="modal2-title">âœ… Sign &amp; Approve Report</div>
    <div class="alert alert-green" style="margin-bottom:16px;font-size:12px"><span>âœï¸</span><div>Your digital signature will be applied. The report status will be updated to <strong>Approved</strong> and the submitter will be notified.</div></div>
    <div class="field"><label>Report</label><input class="input" id="approve-rpt-name" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Approved By</label><input class="input" id="approve-rpt-signer" placeholder="Enter your full name (digital signature)"/></div>
    <div class="field"><label>Notes (optional)</label><textarea class="input" id="approve-rpt-notes" rows="3" placeholder="Additional comments for submitterâ€¦" style="resize:vertical"></textarea></div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-approve-rpt')">Cancel</button>
      <button class="btn btn-ok" onclick="confirmApproveRpt()">âœ… Approve &amp; Sign Report</button>
    </div>
  </div>
</div>

<!-- Return for Revision Modal (Manager) -->
<div class="modal-overlay2" id="m-return-rpt">
  <div class="modal2">
    <div class="modal2-title">â†© Return Report for Revision</div>
    <div class="alert" style="background:#fffbeb;border:1px solid #fde68a;color:#92400e;font-size:12px;margin-bottom:16px"><span>ğŸ“¢</span><div>The report status will be updated to <strong>Revision Required</strong>. Your comments will be sent to the submitter.</div></div>
    <div class="field"><label>Report</label><input class="input" id="return-rpt-name" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Revision Comments *</label><textarea class="input" id="return-rpt-comments" rows="4" placeholder="Specify what needs to be corrected or addedâ€¦" style="resize:vertical"></textarea></div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-return-rpt')">Cancel</button>
      <button class="btn btn-danger" onclick="confirmReturnRpt()">â†© Return for Revision</button>
    </div>
  </div>
</div>

<!-- SA Final Sign & Approve Modal -->
<div class="modal-overlay2" id="m-final-approve">
  <div class="modal2">
    <div class="modal2-title">âœï¸ Final Sign &amp; Approve</div>
    <div class="alert alert-blue" style="margin-bottom:16px;font-size:12px"><span>ğŸ›¡ï¸</span><div>This is the <strong>final approval</strong>. The report will be archived and the submitter notified.</div></div>
    <div class="field"><label>Report</label><input class="input" id="final-approve-name" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Super Admin Signature *</label><input class="input" id="final-approve-sig" placeholder="Enter full name as digital signature"/></div>
    <div class="field"><label>Notes (optional)</label><textarea class="input" id="final-approve-notes" rows="2" placeholder="Any final remarksâ€¦" style="resize:vertical"></textarea></div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-final-approve')">Cancel</button>
      <button class="btn btn-ok" onclick="confirmFinalApprove()">âœï¸ Sign &amp; Archive Report</button>
    </div>
  </div>
</div>

<!-- SA Reject Request Modal -->
<div class="modal-overlay2" id="m-sa-reject">
  <div class="modal2">
    <div class="modal2-title">âŒ Reject Request</div>
    <div class="alert" style="background:#fef2f2;border:1px solid #fca5a5;color:#991b1b;font-size:12px;margin-bottom:16px"><span>ğŸ“¢</span><div>The requestor will be notified with your reason.</div></div>
    <div class="field"><label>Item</label><input class="input" id="sa-reject-name" readonly style="background:var(--bg)"/></div>
    <div class="field"><label>Rejection Reason *</label><textarea class="input" id="sa-reject-reason" rows="4" placeholder="Provide a clear reasonâ€¦" style="resize:vertical"></textarea></div>
    <div class="modal2-footer">
      <button class="btn btn-outline" onclick="closeM('m-sa-reject')">Cancel</button>
      <button class="btn btn-danger" onclick="confirmSAReject()">Reject &amp; Notify</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- New Patient Modal -->
<div class="modal-overlay" id="newPatientModal" onclick="closeModalOutside(event, 'newPatientModal')">
  <div class="modal">
    <div class="modal-header">
      <h3>Register New Patient</h3>
      <button class="btn-icon" onclick="closeModal('newPatientModal')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="grid-2" style="gap:12px;">
        <div class="field"><label>First Name</label><input class="input" placeholder="John" /></div>
        <div class="field"><label>Last Name</label><input class="input" placeholder="Doe" /></div>
      </div>
      <div class="grid-2" style="gap:12px;">
        <div class="field"><label>Date of Birth</label><input class="input" type="date" /></div>
        <div class="field"><label>Gender</label><select class="select"><option>Male</option><option>Female</option><option>Other</option></select></div>
      </div>
      <div class="field"><label>Phone Number</label><input class="input" type="tel" placeholder="+1 555-0000" /></div>
      <div class="field"><label>Address</label><input class="input" placeholder="123 Main St, City" /></div>
      <div class="grid-2" style="gap:12px;">
        <div class="field"><label>Blood Group</label><select class="select"><option>A+</option><option>A-</option><option>B+</option><option>B-</option><option>O+</option><option>O-</option><option>AB+</option><option>AB-</option></select></div>
        <div class="field"><label>Allergies</label><input class="input" placeholder="e.g. Penicillin" /></div>
      </div>
      <div class="field"><label>Admission Type</label>
        <select class="select"><option>OPD (Outpatient)</option><option>IPD (Inpatient)</option><option>Emergency</option></select>
      </div>
      <div class="field"><label>Assigned Doctor</label>
        <select class="select"><option>Dr. Patel â€“ Cardiology</option><option>Dr. Chen â€“ Neurology</option><option>Dr. Lena â€“ Ortho</option><option>Dr. Smith â€“ Paediatrics</option></select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" onclick="closeModal('newPatientModal')">Cancel</button>
      <button class="btn btn-primary" onclick="closeModal('newPatientModal')">Register Patient</button>
    </div>
  </div>
</div>

<!-- New Appointment Modal -->
<div class="modal-overlay" id="newApptModal" onclick="closeModalOutside(event, 'newApptModal')">
  <div class="modal">
    <div class="modal-header">
      <h3>Book Appointment</h3>
      <button class="btn-icon" onclick="closeModal('newApptModal')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="field"><label>Patient</label><input class="input" placeholder="Search by name or patient IDâ€¦" /></div>
      <div class="field"><label>Department</label>
        <select class="select"><option>Cardiology</option><option>Neurology</option><option>Orthopaedics</option><option>Paediatrics</option><option>Emergency</option><option>General Medicine</option></select>
      </div>
      <div class="field"><label>Doctor</label>
        <select class="select"><option>Dr. Patel</option><option>Dr. Chen</option><option>Dr. Lena</option><option>Dr. Smith</option></select>
      </div>
      <div class="grid-2" style="gap:12px;">
        <div class="field"><label>Date</label><input class="input" type="date" /></div>
        <div class="field"><label>Time</label><input class="input" type="time" /></div>
      </div>
      <div class="field"><label>Duration</label>
        <select class="select"><option>15 min</option><option>30 min</option><option>45 min</option><option>60 min</option></select>
      </div>
      <div class="field"><label>Reason / Notes</label>
        <textarea class="input" rows="2" placeholder="Reason for visitâ€¦" style="resize:vertical;"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" onclick="closeModal('newApptModal')">Cancel</button>
      <button class="btn btn-primary" onclick="closeModal('newApptModal')">Book Appointment</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ROLE CONFIG â€” maps each role to its nav items & screens
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const ROLE_CONFIG = {
  hradmin: {
    label: 'HR Admin', avatar: 'HA', color: '#10b981',
    portalLabel: 'HR Admin Portal',
    defaultScreen: 'hr-dashboard',
    nav: [
      { section: 'Hospital HR Admin Menu' },
      { icon: 'ğŸ ', label: 'Dashboard',                 screen: 'hr-dashboard' },
      { icon: 'ğŸ’°', label: 'Generate Medical Payroll',  screen: 'hr-payroll'   },
      { icon: 'ğŸ‘¥', label: 'Medical Staff Management',  screen: 'hr-staff'     }
    ]
  },
  supervisor: {
    label: 'Supervisor', avatar: 'SV', color: '#7c3aed',
    portalLabel: 'Supervisor Portal',
    defaultScreen: 'sup-dashboard',
    nav: [
      { section: 'Medical Supervisor Menu' },
      { icon: 'ğŸ ', label: 'Dashboard',                   screen: 'sup-dashboard'  },
      { icon: 'ğŸ—“ï¸', label: 'View Staff Attendance',       screen: 'sup-attendance' },
      { icon: 'ğŸ“¨', label: 'Review Staff Requests',       screen: 'sup-requests',  badge: '12' }
    ]
  },
  manager: {
    label: 'Manager', avatar: 'MG', color: '#d97706',
    portalLabel: 'Manager Portal',
    defaultScreen: 'mgr-dashboard',
    nav: [
      { section: 'Clinic Manager Menu' },
      { icon: 'ğŸ ', label: 'Dashboard',                screen: 'mgr-dashboard'  },
      { icon: 'ğŸ—“ï¸', label: 'View Staff Attendance',    screen: 'mgr-attendance' },
      { icon: 'ğŸ“‹', label: 'View Medical Summaries',   screen: 'mgr-summaries'  },
      { icon: 'ğŸ“', label: 'Review Medical Reports',   screen: 'mgr-reports', badge: '7' }
    ]
  },
  superadmin: {
    label: 'Super Admin', avatar: 'SA', color: '#1d4ed8',
    portalLabel: 'Super Admin Portal',
    defaultScreen: 'sa-dashboard',
    nav: [
      { section: 'Hospital Super Admin Menu' },
      { icon: 'ğŸ ', label: 'Dashboard',                  screen: 'sa-dashboard'         },
      { icon: 'ğŸ¥', label: 'View All Hospital Data',     screen: 'sa-hospital-data'     },
      { icon: 'ğŸ“Š', label: 'Generate Hospital Reports',  screen: 'sa-reports'           },
      { icon: 'âš™ï¸', label: 'Manage Hospital System',    screen: 'sa-system'            },
      { icon: 'âœ…', label: 'Review All Requests',         screen: 'sa-requests',         badge: '15' },
      { icon: 'ğŸ“', label: 'Review All Reports',          screen: 'sa-pending-reports',  badge: '8'  }
    ]
  }
};

let _role = 'hradmin';
let _rejectId = '';
let _payStep = 1;
let _cutoff = '';

/* â”€â”€â”€ Auth â”€â”€â”€ */
function selectRole(el, role) {
  document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  _role = role;
}

function doLogin() {
  const u = document.getElementById('login-user').value.trim();
  const p = document.getElementById('login-pass').value.trim();
  const err = document.getElementById('login-error-msg');
  if (!u || !p) { err.style.display = 'block'; err.textContent = 'Please enter your username and password.'; return; }
  err.style.display = 'none';
  // hide login, show app
  document.getElementById('screen-login').classList.add('hidden');
  const app = document.getElementById('app');
  app.classList.remove('hidden');
  app.style.display = 'flex';
  buildApp(_role);
}

function doLogout() {
  const app = document.getElementById('app');
  app.style.display = 'none';
  app.classList.add('hidden');
  document.getElementById('role-content').style.display = 'none';
  // Restore legacy main
  const legacyMain = document.querySelector('#main-wrap > main');
  if (legacyMain) legacyMain.style.display = '';
  document.getElementById('screen-login').classList.remove('hidden');
  document.getElementById('login-user').value = '';
  document.getElementById('login-pass').value = '';
}

/* â”€â”€â”€ Build app per role â”€â”€â”€ */
function buildApp(role) {
  const cfg = ROLE_CONFIG[role];
  // Topbar avatar
  document.getElementById('topbar-avatar').textContent = cfg.avatar;
  document.getElementById('topbar-avatar').style.background = cfg.color;
  // Sidebar
  document.getElementById('sidebar-avatar').textContent = cfg.avatar;
  document.getElementById('sidebar-avatar').style.background = cfg.color;
  document.getElementById('sidebar-name').textContent = 'Welcome';
  document.getElementById('sidebar-role-label').textContent = cfg.label;
  document.getElementById('portal-label').textContent = cfg.portalLabel || (cfg.label + ' Portal');
  buildNav(role);
  // Hide the legacy main content, show role-content
  const legacyMain = document.querySelector('#main-wrap > main');
  if (legacyMain) legacyMain.style.display = 'none';
  document.getElementById('role-content').style.display = 'flex';
  document.getElementById('role-content').style.flexDirection = 'column';
  // Show default screen
  showRS(cfg.defaultScreen);
}

function buildNav(role) {
  const cfg = ROLE_CONFIG[role];
  const nav = document.getElementById('dyn-nav');
  nav.innerHTML = '';
  cfg.nav.forEach(item => {
    if (item.section) {
      const s = document.createElement('div');
      s.className = 'sidebar-section';
      s.textContent = item.section;
      nav.appendChild(s);
    } else {
      const btn = document.createElement('button');
      btn.className = 'nav-item';
      btn.dataset.screen = item.screen;
      let inner = `<span class="nav-icon">${item.icon}</span><span>${item.label}</span>`;
      if (item.badge) inner += `<span class="badge badge-red" style="margin-left:auto">${item.badge}</span>`;
      btn.innerHTML = inner;
      btn.onclick = function(){ showRS(item.screen, btn); };
      nav.appendChild(btn);
    }
  });
}

function showRS(screenId, navEl) {
  // hide all rscreens
  document.querySelectorAll('.rscreen').forEach(s => s.classList.remove('active'));
  const el = document.getElementById('rs-' + screenId);
  if (el) el.classList.add('active');
  // nav highlight
  document.querySelectorAll('#dyn-nav .nav-item').forEach(n => n.classList.remove('active'));
  if (navEl) { navEl.classList.add('active'); }
  else {
    // auto-highlight first nav item pointing to this screen
    const match = document.querySelector(`#dyn-nav .nav-item[data-screen="${screenId}"]`);
    if (match) match.classList.add('active');
  }
}

/* â”€â”€â”€ Generic tab switcher for new screens â”€â”€â”€ */
function swtab(groupId, panelId, tabEl) {
  // find all sibling tabs (same row)
  const row = tabEl.parentElement;
  row.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  tabEl.classList.add('active');
  // find all panels in the same rscreen
  const rscreen = tabEl.closest('.rscreen') || document.body;
  rscreen.querySelectorAll('.tab-panel').forEach(p => p.classList.add('hidden'));
  const panel = document.getElementById(panelId);
  if (panel) panel.classList.remove('hidden');
}

/* â”€â”€â”€ Payroll wizard â”€â”€â”€ */
function pickCutoff(val) {
  _cutoff = val;
  document.getElementById('co15').classList.toggle('sel', val === '15th');
  document.getElementById('co30').classList.toggle('sel', val === '30th');
  document.getElementById('co-val').textContent = val;
  document.getElementById('co-confirm').style.display = 'flex';
}

function goStep(n) {
  _payStep = n;
  [1,2,3,4].forEach(i => {
    const wiz = document.getElementById('pwiz' + i);
    const step = document.getElementById('pstep' + i);
    if (!wiz || !step) return;
    wiz.classList.toggle('active', i === n);
    wiz.classList.toggle('done', i < n);
    step.classList.toggle('active', i === n);
  });
  if (n === 4) {
    const p = document.getElementById('rpt-period');
    if (p) p.textContent = _cutoff ? _cutoff + ' Cut-Off' : 'All Staff';
  }
}

const _PAY = {
  a: { name: 'Dr. Juan Reyes', reg: 25000, ot: 2400,  oncall: 800,  ded: 3200 },
  b: { name: 'Maria Cruz',     reg: 18000, ot: 4800,  oncall: 1600, ded: 2880 },
  c: { name: 'Rosa Santos',    reg: 16000, ot: 0,     oncall: 0,    ded: 2560 },
  d: { name: 'Ben Lim',        reg: 20000, ot: 0,     oncall: 800,  ded: 3200 }
};

function calcPay(key) {
  const box = document.getElementById('pay-breakdown');
  if (!key) { box.style.display = 'none'; return; }
  const d = _PAY[key];
  const gross = d.reg + d.ot + d.oncall - d.ded;
  box.style.display = 'block';
  document.getElementById('pr-reg').textContent    = 'â‚±' + d.reg.toLocaleString();
  document.getElementById('pr-ot').textContent     = 'â‚±' + d.ot.toLocaleString();
  document.getElementById('pr-oncall').textContent = 'â‚±' + d.oncall.toLocaleString();
  document.getElementById('pr-ded').textContent    = 'âˆ’â‚±' + d.ded.toLocaleString();
  document.getElementById('pr-gross').textContent  = 'â‚±' + gross.toLocaleString();
}

function savePayroll() {
  showToast('ğŸ’¾ Payroll saved to database successfully!');
  showRS('hr-dashboard');
}

/* â”€â”€â”€ SA Reports â”€â”€â”€ */
function genSAReport() {
  const el = document.getElementById('sa-rpt-result');
  if (el) el.style.display = 'block';
  showToast('ğŸ“Š Report compiled successfully');
}

/* â”€â”€â”€ Manager: Report approve / return â”€â”€â”€ */
let _rptTargetId = '';
function openApproveRpt(id, title) {
  _rptTargetId = id;
  document.getElementById('approve-rpt-name').value = title;
  document.getElementById('approve-rpt-signer').value = '';
  document.getElementById('approve-rpt-notes').value = '';
  openM('m-approve-rpt');
}
function confirmApproveRpt() {
  const sig = document.getElementById('approve-rpt-signer').value.trim();
  if (!sig) { alert('Please enter your name as digital signature.'); return; }
  const item = document.getElementById(_rptTargetId);
  if (item) {
    item.style.background = '#f0fdf4'; item.style.borderColor = '#86efac';
    item.querySelector('.req-actions').innerHTML = '<span class="badge badge-green">âœ… Approved â€” ' + sig + '</span>';
    // log to approved tab
    const tbody = document.getElementById('mgr-approved-body');
    if (tbody) {
      const title = item.querySelector('.req-name').childNodes[0].textContent.trim();
      const today = new Date().toLocaleDateString('en-PH',{month:'short',day:'numeric'});
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${title}</td><td>Report</td><td>Manager</td><td><span class="badge badge-green">âœ… Approved</span></td><td>${today}</td>`;
      tbody.prepend(tr);
    }
  }
  closeM('m-approve-rpt');
  showToast('âœ… Report approved and signed by ' + sig);
}

function openReturnRpt(id, title) {
  _rptTargetId = id;
  document.getElementById('return-rpt-name').value = title;
  document.getElementById('return-rpt-comments').value = '';
  openM('m-return-rpt');
}
function confirmReturnRpt() {
  const comments = document.getElementById('return-rpt-comments').value.trim();
  if (!comments) { alert('Please provide revision comments.'); return; }
  const item = document.getElementById(_rptTargetId);
  if (item) {
    item.style.background = '#fffbeb'; item.style.borderColor = '#fde68a';
    item.querySelector('.req-actions').innerHTML = '<span class="badge badge-yellow">â†© Returned for Revision</span>';
  }
  closeM('m-return-rpt');
  showToast('â†© Report returned. Submitter notified with revision comments.');
}

/* â”€â”€â”€ SA: Request approve/reject â”€â”€â”€ */
let _saRejectId = '';
function saApproveReq(itemId, name, type) {
  const item = document.getElementById(itemId);
  if (!item) return;
  item.style.background = '#f0fdf4'; item.style.borderColor = '#86efac';
  item.querySelector('.req-actions').innerHTML = '<span class="badge badge-green">âœ… Approved</span>';
  const tbody = document.getElementById('sa-req-hist-body');
  if (tbody) {
    const today = new Date().toLocaleDateString('en-PH',{month:'short',day:'numeric'});
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${name}</td><td>${type}</td><td>â€”</td><td><span class="badge badge-green">Approved</span></td><td>${today}</td>`;
    tbody.prepend(tr);
  }
  showToast('âœ… ' + type + ' â€” ' + name + ' approved');
}
function openSAReject(itemId, name) {
  _saRejectId = itemId;
  document.getElementById('sa-reject-name').value = name;
  document.getElementById('sa-reject-reason').value = '';
  openM('m-sa-reject');
}
function confirmSAReject() {
  const reason = document.getElementById('sa-reject-reason').value.trim();
  if (!reason) { alert('Please provide a rejection reason.'); return; }
  const item = document.getElementById(_saRejectId);
  if (item) {
    item.style.background = '#fef2f2'; item.style.borderColor = '#fca5a5';
    item.querySelector('.req-actions').innerHTML = '<span class="badge badge-red">âŒ Rejected</span>';
    const tbody = document.getElementById('sa-req-hist-body');
    if (tbody) {
      const name = document.getElementById('sa-reject-name').value;
      const today = new Date().toLocaleDateString('en-PH',{month:'short',day:'numeric'});
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${name}</td><td>Request</td><td>â€”</td><td><span class="badge badge-red">Rejected</span></td><td>${today}</td>`;
      tbody.prepend(tr);
    }
  }
  closeM('m-sa-reject');
  showToast('âŒ Request rejected. Requestor notified.');
}

/* â”€â”€â”€ SA: Final sign & archive â”€â”€â”€ */
let _finalApproveId = '';
function openFinalApprove(id, title) {
  _finalApproveId = id;
  document.getElementById('final-approve-name').value = title;
  document.getElementById('final-approve-sig').value = '';
  document.getElementById('final-approve-notes').value = '';
  openM('m-final-approve');
}
function confirmFinalApprove() {
  const sig = document.getElementById('final-approve-sig').value.trim();
  if (!sig) { alert('Please enter your name as digital signature.'); return; }
  const item = document.getElementById(_finalApproveId);
  if (item) {
    item.style.background = '#f0fdf4'; item.style.borderColor = '#86efac';
    item.querySelector('.req-actions').innerHTML = '<span class="badge badge-green">âœï¸ Signed &amp; Archived</span>';
    const tbody = document.getElementById('sa-archive-body');
    if (tbody) {
      const title = document.getElementById('final-approve-name').value;
      const today = new Date().toLocaleDateString('en-PH',{month:'short',day:'numeric'});
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${title}</td><td>Report</td><td>Super Admin â€” ${sig}</td><td>${today}</td>`;
      tbody.prepend(tr);
    }
  }
  closeM('m-final-approve');
  showToast('âœï¸ Report signed, approved and archived by ' + sig);
}

/* â”€â”€â”€ Staff management â”€â”€â”€ */
function activate(btn) {
  const row = btn.closest('tr');
  const badge = row.querySelector('.badge-red');
  if (badge) { badge.classList.remove('badge-red'); badge.classList.add('badge-green'); badge.textContent = 'Active'; }
  btn.className = 'btn btn-sm btn-danger';
  btn.textContent = 'Deactivate';
  btn.setAttribute('onclick', 'deactivate(this)');
  showToast('âœ… Staff account activated');
}
function deactivate(btn) {
  openM('m-edit-staff');
}
function registerStaff() {
  closeM('m-register');
  showToast('âœ… New staff registered successfully');
}
function saveStatus() {
  const reason = document.getElementById('edit-reason').value.trim();
  if (!reason) { alert('Please provide a reason.'); return; }
  closeM('m-edit-staff');
  showToast('âœ… Staff status updated & change logged');
}

/* â”€â”€â”€ Request approval / rejection â”€â”€â”€ */
function approveReq(itemId, staffName, type) {
  const item = document.getElementById(itemId);
  if (!item) return;
  item.style.background = '#f0fdf4';
  item.style.borderColor = '#86efac';
  item.querySelector('.req-actions').innerHTML = '<span class="badge badge-green">âœ… Approved</span>';
  // log to history
  const tbody = document.getElementById('req-hist-body');
  if (tbody) {
    const tr = document.createElement('tr');
    const today = new Date().toLocaleDateString('en-PH', {month:'short', day:'numeric'});
    tr.innerHTML = `<td>${staffName}</td><td>${type}</td><td>â€”</td><td><span class="badge badge-green">Approved</span></td><td>Supervisor</td><td>${today}</td>`;
    tbody.prepend(tr);
  }
  showToast(`âœ… ${type} request for ${staffName} approved`);
}

function openReject(itemId, staffName) {
  _rejectId = itemId;
  const input = document.getElementById('reject-staff-name');
  if (input) input.value = staffName;
  document.getElementById('reject-reason').value = '';
  openM('m-reject');
}

function confirmReject() {
  const reason = document.getElementById('reject-reason').value.trim();
  if (!reason) { alert('Please provide a rejection reason.'); return; }
  const item = document.getElementById(_rejectId);
  if (item) {
    item.style.background = '#fef2f2';
    item.style.borderColor = '#fca5a5';
    item.querySelector('.req-actions').innerHTML = '<span class="badge badge-red">âŒ Rejected</span>';
    const tbody = document.getElementById('req-hist-body');
    if (tbody) {
      const staffEl = item.querySelector('.req-name');
      const name = staffEl ? staffEl.childNodes[0].textContent.trim() : 'â€”';
      const today = new Date().toLocaleDateString('en-PH', {month:'short', day:'numeric'});
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${name}</td><td>Request</td><td>â€”</td><td><span class="badge badge-red">Rejected</span></td><td>Supervisor</td><td>${today}</td>`;
      tbody.prepend(tr);
    }
  }
  closeM('m-reject');
  showToast('âŒ Request rejected. Staff notified.');
}

/* â”€â”€â”€ Modal helpers â”€â”€â”€ */
function openM(id)  { const el = document.getElementById(id); if (el) el.classList.add('open'); }
function closeM(id) { const el = document.getElementById(id); if (el) el.classList.remove('open'); }

/* â”€â”€â”€ Toast â”€â”€â”€ */
let _toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast2');
  if (!t) return;
  t.textContent = msg;
  t.style.display = 'block';
  clearTimeout(_toastTimer);
  _toastTimer = setTimeout(() => { t.style.display = 'none'; }, 3500);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LEGACY â€” Old screen system kept for Settings screen
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  // â”€â”€ Role definitions â€” mapped to flowchart Admin Work branches â”€â”€
  const ROLES = {
    superadmin: {
      label: 'Super Administrator',
      icon: 'ğŸ›¡ï¸',
      avatar: 'SA',
      color: '#1e3a5f',
      desc: 'Full system access â€” Patient, Schedule, Billing, HR Resources & all Admin Work.',
      access: ['Patient','Schedule','Billing','Manage Staff','HR Reports','Financial Reports','Approve Resources','Approve Reports','Settings'],
      bannerColor: 'alert-blue'
    },
    hradmin: {
      label: 'HR Admin',
      icon: 'ğŸ‘¥',
      avatar: 'HR',
      color: '#16a34a',
      desc: 'Manages staff records, HR resource planning, compiles HR reports and updates the staff database.',
      access: ['Manage Staff','Staff Schedules','HR Reports','Update Staff Database'],
      bannerColor: 'alert-green'
    },
    supervisor: {
      label: 'Supervisor',
      icon: 'ğŸ‘€',
      avatar: 'SV',
      color: '#7c3aed',
      desc: 'Oversees daily operations â€” reviews patient flow, staff schedules, and approves resource & report requests.',
      access: ['View Patient Info','Appointments','Staff Schedules','Approve Resources','Approve Reports','Financial Reports'],
      bannerColor: 'alert-blue'
    },
    manager: {
      label: 'Manager',
      icon: 'ğŸ“Š',
      avatar: 'MG',
      color: '#b45309',
      desc: 'Manages billing, financial performance, inventory, and approves financial reports for submissions.',
      access: ['Patient Billing','Pharmacy','Inventory','Financial Reports','Approve Reports'],
      bannerColor: 'alert-warn'
    }
  };

  let currentRole = 'superadmin';

  // â”€â”€ Auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function setRole(el, role) {
    document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    currentRole = role;
  }

  function launchApp() {
    document.getElementById('screen-login').classList.add('hidden');
    document.getElementById('app').classList.remove('hidden');
    applyRoleLayout(currentRole);
    navigate('dashboard', document.querySelector('.nav-item[onclick*="dashboard"]'));
  }

  function logout() {
    document.getElementById('app').classList.add('hidden');
    document.getElementById('screen-login').classList.remove('hidden');
  }

  // â”€â”€ Role layout engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function applyRoleLayout(role) {
    const def = ROLES[role] || ROLES.superadmin;

    // Sidebar user pill
    document.getElementById('sidebar-avatar').textContent     = def.avatar;
    document.getElementById('sidebar-avatar').style.background = def.color;
    document.getElementById('sidebar-name').textContent       = def.label;
    document.getElementById('sidebar-role-label').textContent = role;

    // Sidebar portal label
    document.querySelector('.brand-text').innerHTML =
      'SUMMIT PT CLINIC <span>' + def.label + ' Portal</span>';

    // Filter nav items & section headers
    document.querySelectorAll('.nav-item[data-roles], .sidebar-section[data-roles]').forEach(el => {
      const allowed = el.dataset.roles.split(',');
      el.classList.toggle('hidden', !allowed.includes(role));
    });

    // Filter dashboard stat cards
    document.querySelectorAll('.stat-card[data-roles]').forEach(el => {
      const allowed = el.dataset.roles.split(',');
      el.classList.toggle('hidden', !allowed.includes(role));
    });

    // Role banner
    const banner = document.getElementById('role-banner');
    banner.classList.remove('hidden');
    const bc = document.getElementById('banner-content');
    bc.className = 'alert ' + def.bannerColor;
    bc.style.cssText = 'display:flex;align-items:center;gap:14px;padding:16px 20px;border-radius:10px;';
    document.getElementById('banner-icon').textContent = def.icon;
    document.getElementById('banner-title').textContent = def.label + ' â€” ' + role + ' View';
    document.getElementById('banner-desc').textContent  = def.desc;
    const accessEl = document.getElementById('banner-access');
    accessEl.innerHTML = def.access.map(a =>
      '<span class="badge badge-gray" style="font-size:11px;">' + a + '</span>'
    ).join('');

    // Topbar avatar
    document.querySelector('#topbar .avatar').textContent         = def.avatar;
    document.querySelector('#topbar .avatar').style.background    = def.color;
  }

  // â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  let currentScreen = 'dashboard';
  function navigate(screenId, navEl) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    const target = document.getElementById('screen-' + screenId);
    if (target) target.classList.add('active');

    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    if (navEl) navEl.classList.add('active');

    currentScreen = screenId;
    closeSidebar();
  }

  // â”€â”€ Sidebar (mobile) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('open');
    document.getElementById('sidebar-overlay').classList.toggle('open');
  }
  function closeSidebar() {
    document.getElementById('sidebar').classList.remove('open');
    document.getElementById('sidebar-overlay').classList.remove('open');
  }

  // â”€â”€ Notification panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function toggleNotif() {
    document.getElementById('notif-panel').classList.toggle('open');
  }
  document.addEventListener('click', function(e) {
    const panel = document.getElementById('notif-panel');
    if (!e.target.closest('.notif-btn')) panel.classList.remove('open');
  });

  // â”€â”€ Modals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function openModal(id)  { document.getElementById(id).classList.add('open'); }
  function closeModal(id) { document.getElementById(id).classList.remove('open'); }
  function closeModalOutside(e, id) {
    if (e.target === document.getElementById(id)) closeModal(id);
  }

  // â”€â”€ Tabs (Settings & Records) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function switchTab(tabEl, panelId) {
    const parent = tabEl.closest('.screen') || tabEl.closest('body');
    parent.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    tabEl.classList.add('active');
    parent.querySelectorAll('.tab-panel').forEach(p => p.classList.add('hidden'));
    const panel = document.getElementById(panelId);
    if (panel) panel.classList.remove('hidden');
  }
</script>
</body>
</html>
